<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content=lofyer><link href=https://docs.lofyer.org/blog/2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/ rel=canonical><link href=../../03/%E5%9B%9E%E4%B8%8D%E5%8E%BB%E5%B0%B1%E5%BE%80%E5%89%8D%E8%B5%B0/ rel=prev><link href=../../../10/11/%E8%AE%A9dnspod%E8%A7%A3%E6%9E%90%E4%BA%86/ rel=next><link rel=icon href=../../../../../images/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.5.39"><title>实用笔记 - Lofyer's Blog</title><link rel=stylesheet href=../../../../../assets/stylesheets/main.8c3ca2c6.min.css><link rel=stylesheet href=../../../../../assets/stylesheets/palette.06af60db.min.css><script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#_1 class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=../../../../.. title="Lofyer's Blog" class="md-header__button md-logo" aria-label="Lofyer's Blog" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Lofyer's Blog </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 实用笔记 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=查找> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/lofyer/lofyer.github.io title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> lofyer/lofyer.github.io </div> </a> </div> </nav> <nav class=md-tabs aria-label=标签 data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../../.. class=md-tabs__link> Index </a> </li> <li class=md-tabs__item> <a href=../../../../../wangsheng/ class=md-tabs__link> WangSheng </a> </li> <li class=md-tabs__item> <a href=../../../../../datanote/ class=md-tabs__link> Archive Docs </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../../../ class=md-tabs__link> Archive Blog </a> </li> <li class=md-tabs__item> <a href=../../../../../tags/ class=md-tabs__link> Tags </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation hidden> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../../.. title="Lofyer's Blog" class="md-nav__button md-logo" aria-label="Lofyer's Blog" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> Lofyer's Blog </label> <div class=md-nav__source> <a href=https://github.com/lofyer/lofyer.github.io title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> lofyer/lofyer.github.io </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../.. class=md-nav__link> <span class=md-ellipsis> Index </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../wangsheng/ class=md-nav__link> <span class=md-ellipsis> WangSheng </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../../datanote/ class=md-nav__link> <span class=md-ellipsis> Archive Docs </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex> <span class=md-ellipsis> Archive Blog </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Archive Blog </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <a href=../../../../ class=md-nav__link> <span class=md-ellipsis> 首页 </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../archive/2022/ class=md-nav__link> <span class=md-ellipsis> 归档 </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../../category/lab/ class=md-nav__link> <span class=md-ellipsis> 分类 </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../../../tags/ class=md-nav__link> <span class=md-ellipsis> Tags </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> 目录 </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#webframework class=md-nav__link> <span class=md-ellipsis> WebFramework: </span> </a> </li> <li class=md-nav__item> <a href=#tab class=md-nav__link> <span class=md-ellipsis> 搜索Tab </span> </a> </li> <li class=md-nav__item> <a href=#_2 class=md-nav__link> <span class=md-ellipsis> 批量替换 </span> </a> </li> <li class=md-nav__item> <a href=#cmake-opencvlibpkg-configopencvpcusrlibpkg-configpkg-config class=md-nav__link> <span class=md-ellipsis> cmake 配置安装完opencv后，将安装路径中到lib/pkg-config/opencv.pc复制到/usr/lib/pkg-config，然后可以进行pkg-config 查找 </span> </a> </li> <li class=md-nav__item> <a href=#gnome3 class=md-nav__link> <span class=md-ellipsis> gnome3任务栏快捷方式的存放位置拖到浏览器或者终端里你就看见了。。 </span> </a> </li> <li class=md-nav__item> <a href=#curl-post class=md-nav__link> <span class=md-ellipsis> curl POST </span> </a> </li> <li class=md-nav__item> <a href=#ddwrt class=md-nav__link> <span class=md-ellipsis> ddwrt 内网不能访问内网域名 </span> </a> </li> <li class=md-nav__item> <a href=#vpn class=md-nav__link> <span class=md-ellipsis> vpn的内网的问题 </span> </a> </li> <li class=md-nav__item> <a href=#delete-git-branch class=md-nav__link> <span class=md-ellipsis> delete git branch </span> </a> </li> <li class=md-nav__item> <a href=#ipa-client-reinstall class=md-nav__link> <span class=md-ellipsis> ipa client reinstall </span> </a> </li> <li class=md-nav__item> <a href=#fedoracd class=md-nav__link> <span class=md-ellipsis> fedora制作安装cd </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-content md-content--post" data-md-component=content> <div class="md-sidebar md-sidebar--post" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class="md-sidebar__inner md-post"> <nav class="md-nav md-nav--primary"> <div class=md-post__back> <div class="md-nav__title md-nav__container"> <a href=../../../../ class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> <span class=md-ellipsis> 回到主页 </span> </a> </div> </div> <ul class="md-post__meta md-nav__list"> <li class="md-nav__item md-nav__item--section"> <div class=md-post__title> <span class=md-ellipsis> 元数据 </span> </div> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5z"/></svg> <time datetime="2012-09-18 00:00:00" class=md-ellipsis>2012年9月18日</time> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9 3v15h3V3zm3 2 4 13 3-1-4-13zM5 5v13h3V5zM3 19v2h18v-2z"/></svg> <span class=md-ellipsis> 分类于 <a href=../../../../category/linux-admin/ >linux-admin</a></span> </div> </li> <li class=md-nav__item> <div class=md-nav__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m0-18a10 10 0 0 1 10 10 10 10 0 0 1-10 10C6.47 22 2 17.5 2 12A10 10 0 0 1 12 2m.5 5v5.25l4.5 2.67-.75 1.23L11 13V7z"/></svg> <span class=md-ellipsis> 需要 9 分钟阅读时间 </span> </div> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <article class="md-content__inner md-typeset"> <h1 id=_1>实用笔记</h1> <h2 id=webframework>WebFramework:</h2> <p>Django Cappuccino-&gt;mockingbird</p> <h2 id=tab>搜索Tab</h2> <p>grep -P "t"</p> <h2 id=_2>批量替换</h2> <p>sed -i "s/qwe/asd/g" `grep -rl "qwe"`</p> <h2 id=cmake-opencvlibpkg-configopencvpcusrlibpkg-configpkg-config>cmake 配置安装完opencv后，将安装路径中到lib/pkg-config/opencv.pc复制到/usr/lib/pkg-config，然后可以进行pkg-config 查找</h2> <h2 id=gnome3>gnome3任务栏快捷方式的存放位置拖到浏览器或者终端里你就看见了。。</h2> <h2 id=curl-post>curl POST</h2> <p>curl -X POST -d '4142430A02000' http://user:pass@myhost/hudson/job/_jobName_/postBuildResult</p> <p>curl -X POST -d @myfilename http://user:pass@myhost/hudson/job/_jobName_/postBuildResult</p> <h2 id=ddwrt>ddwrt 内网不能访问内网域名</h2> <p>iptables -t nat -I POSTROUTING -o br0 -s 192.168.0.188/24 -d 192.168.0.188/24 -j MASQUERADE</p> <h2 id=vpn>vpn的内网的问题</h2> <p>iptables -t nat -A POSTROUTING -s 10.8.0.0/24 -o eth0 -j SNAT --to-source 70.8.7.6</p> <p>iptables -t nat -A POSTROUTING -o eth0 -s 172.16.1.0/24 -j MASQUERADE</p> <h2 id=delete-git-branch>delete git branch</h2> <p>git push origin :yourbranch</p> <h2 id=ipa-client-reinstall>ipa client reinstall</h2> <p>删除_/etc/ipa/ca.crt_证书</p> <h2 id=fedoracd>fedora制作安装cd</h2> <h1 id=binbash>!/bin/bash</h1> <p>livecd-creator --config=/usr/share/spin-kickstarts/fedora-livecd-desktop.ks \ --fslabel=Test \ --tmpdir=/root/iso/tmp \ --cache=/root/iso/cache \ --nocleanup \ --cacheonly #为节约下载时间可在以后制作时忽略</p> <h2 id=mysql-grant>mysql grant</h2> <p>grant all privileges on *.* to root@'%' identified by '123456'; flush privileges;</p> <h2 id=kvm-nested>打开kvm nested参数</h2> <p>cat /sys/module/kvm_intel/parameters/nested</p> <p>为N则</p> <p>modprobe -r kvm-intel modprobe kvm-intel nested=1</p> <h2 id=fedora-rawhide>Fedora滚动升级版 Rawhide</h2> <p>yum install fedora-release-rawhide yum-config-manager --disable fedora updates updates-testing yum-config-manager --enable rawhide yum update yum yum --releasever=rawhide distro-sync --nogpgcheck</p> <p>or</p> <p>dnf upgrade --refresh dnf install dnf-plugin-system-upgrade dnf system-upgrade download --refresh --releasever=rawhide --allowerasing dnf system-upgrade reboot</p> <h2 id=opensuse-tumbleweed>Opensuse滚动升级版 Tumbleweed</h2> <p>zypper ar --refresh http://download.opensuse.org/repositories/openSUSE:/Tumbleweed/standard/ Tumbleweed zypper ar --refresh http://download.opensuse.org/distribution/openSUSE-current/repo/oss/ 'openSUSE Current OSS' zypper ar --refresh http://download.opensuse.org/distribution/openSUSE-current/repo/non-oss/ 'openSUSE Current non-OSS' zypper ar --refresh http://download.opensuse.org/update/openSUSE-current/ 'openSUSE Current updates' zypper ar --refresh http://download.opensuse.org/update/openSUSE-non-oss-current/ 'openSUSE Current non-OSS updates' zypper dup</p> <h2 id=vs2012>vs2012修复补丁</h2> <p>由于升级.net 4.5会出现vs2012部分项目失败，可以打这个补丁修复 <a href="http://www.microsoft.com/zh-cn/download/details.aspx?id=36020" title="http://www.microsoft.com/zh-cn/download/details.aspx?id=36020">Microsoft Visual Studio 2012 更新 (KB2781514)</a></p> <h2 id=restclient>RESTClient</h2> <p>针对RESTful的API可以使用这个工具 <a href=http://restclient.org title=http://restclient.org>http://restclient.org</a></p> <h2 id=dl-sslgooglecom>dl-ssl.google.com</h2> <p>74.125.237.1</p> <h2 id=owncloud-repo>owncloud repo</h2> <p>http://software.opensuse.org/download/package?project=isv:ownCloud:devel&amp;package=owncloud-client</p> <h2 id=android-google-play>android google play</h2> <p>cp /data/app/googleplay /system/app/</p> <h2 id=gravatar>获取Gravatar头像</h2> <p>curl http://www.gravatar.com/avatar/`echo -n me@mydomain.com | md5sum` &gt; gravatar.jpg</p> <h2 id=maven-insecure-ssl>Maven insecure SSL</h2> <p>-Dmaven.wagon.http.ssl.insecure=true -Dmaven.wagon.http.ssl.allowall=true</p> <h2 id=bvnc-build>bVNC build</h2> <p>FreeRDP: checkout dbbb341; cmake .; ant release Singed keystore: keytool -genkey -alias android.keystore -keyalg RSA -validity 20000 -keystore android.keystore http://www.mail-archive.com/spice-devel@lists.freedesktop.org/msg13763.html</p> <h2 id=ipa-add-user>IPA ADD-USER</h2> <h1 id=binbash_1>!/bin/bash</h1> <p>echo -e "pswd4admin\n" | kinit admin echo -e "<span class=arithmatex>\(1\\n\)</span>1\n<span class=arithmatex>\(1\\n" | ipa user-add echo -e "\)</span>1\n<span class=arithmatex>\(1\\n" | ipa passwd <span class=arithmatex>\(1 sleep 1 echo -e "\)</span>1\\n\)</span>1\n$1\n" | kinit $1</p> <h2 id=ntp-server>NTP server</h2> <p>server 192.168.1.11 mask 255.255.0.0 nomodify 启动ntpd后要等个几分钟，client才能去同步，否则报错说未找到合适的ntp服务器</p> <h2 id=rsync>rsync</h2> <p>rsync -zvrtopgal -e ssh --delete --stats --progress --exclude 'ignore.txt' root@lofyer.org:/var/log /home/lofyer/lofyer.org/</p> <h2 id=centos-smartcard>CentOS Smartcard</h2> <p>SmartCard service: openct pcscd</p> <h2 id=zathura>zathura</h2> <p>很好的PDF阅读器</p> <h2 id=ssh-without-password>ssh without password</h2> <h1 id=generate-rsa-key-pair-without-passphrase>Generate rsa key pair without passphrase</h1> <p>[demo@A ~]$ ssh-keygen -t rsa</p> <h1 id=copy-pub-key-to-b>Copy pub key to B</h1> <p>[demo@A ~]$ cat .ssh/id_rsa.pub | ssh alpha@B 'cat &gt;&gt; .ssh/authorized_keys2'</p> <h1 id=add-private-key-to-a>Add private key to A</h1> <p>[demo@A ~]$ ssh-add ~/.ssh/id_rsa or just [demo@A ~]$ ssh-copy-id alpha@B</p> <h2 id=ssh-to-a-new-host-without-key-checking-promption>ssh to a new host without key checking promption</h2> <h1 id=vim-etcsshssh_config>vim /etc/ssh/ssh_config</h1> <p>... StrictHostKeyChecking no ...</p> <h2 id=debian-offcie>debian offcie乱码</h2> <p>安装文泉逸字体 apt-get install fonts-wenquanyi</p> <h2 id=debian-virt-viewer-with-spice>debian virt-viewer with spice</h2> <p>deb http://mirrors.163.com/debian/ unstable main deb-src http://mirrors.163.com/debian/ unstable main</p> <p>deb http://security.debian.org/ unstable/updates main deb-src http://security.debian.org/ unstable/updates main</p> <h1 id=unstable-updates-previously-known-as-volatile>unstable-updates, previously known as 'volatile'</h1> <p>deb http://mirrors.163.com/debian/ unstable-updates main deb-src http://mirrors.163.com/debian/ unstable-updates main deb http://apt.wxwidgets.org/ unstable-wx main deb-src http://apt.wxwidgets.org/ unstable-wx main</p> <h2 id=better-dns>Better DNS</h2> <p>dns1: 199.91.73.222 dns2: 8.8.8.8</p> <h2 id=audit-log>audit log</h2> <p>Modify <em>/etc/audit/audit.conf</em> to 8192 or bigger.</p> <h2 id=memcached>memcached</h2> <p><strong>PHP</strong></p> <h1 id=apt-get-install-memcached-php5-memcached>apt-get install memcached php5-memcached</h1> <p>modify <em>/etc/php5/conf.d/memcached.ini</em></p> <h2 id=disable-tso-gso-to-improve-virtio-net>disable TSO GSO to improve virtio-net</h2> <h1 id=ethtool-k-eth0-gso-off>ethtool -K eth0 gso off</h1> <h1 id=ethtool-k-eth0-tso-off>ethtool -K eth0 tso off</h1> <h2 id=disable-packagekit-in-fedora>disable PackageKit in Fedora</h2> <p><em>/etc/yum/pluginconf.d/refresh-packagekit.conf</em></p> <p>enabled=0</p> <h2 id=_3>推荐一种工作方式</h2> <p>集成显卡下运行linux，将另一块硬盘或者vdisk，还有独立显卡passthrough给虚拟机Win7，协议使用spice，这是很爽啊</p> <h2 id=crt-key-to-pem>crt &amp; key to pem</h2> <p>openssl x509 -inform DER -outform PEM -in server.crt -out server.crt.pem openssl rsa -inform DER -outform PEM -in server.key -out server.key.pem cat server.crt.pem server.key.pem &gt;&gt; server.pem</p> <h2 id=wireless-relay-for-tomata>wireless relay for tomata</h2> <p>设置无线中继时确保主路由和从路由的SSID、密码、加密方式一致，不要使用WPA/WPA-2混合模式</p> <h2 id=libvirt-password>libvirt password</h2> <h1 id=saslpasswd2-a-libvirt-root>saslpasswd2 -a libvirt root</h1> <h2 id=netcatnc-tips>netcat(nc) tips</h2> <p><strong>大传输文件(file transfer)</strong></p> <p>server: nc -l 5555 &lt; file_to_copy client: nc server_ip 5555 &gt; new_file</p> <p><strong>聊天(chat)</strong></p> <p>client1: nc -l 5555 client2: nc server_ip 5555</p> <p><strong>udp connection</strong></p> <p>server: nc -4 -u -l 5555 clinet: nc -4 -u localhost 5555</p> <h2 id=owncloud-repo_1>owncloud repo</h2> <p>[isv_ownCloud_community] name=Latest stable community release of ownCloud (CentOS_CentOS-6) type=rpm-md baseurl=http://download.opensuse.org/repositories/isv:/ownCloud:/community/CentOS_CentOS-6/ gpgcheck=1 gpgkey=http://download.opensuse.org/repositories/isv:/ownCloud:/community/CentOS_CentOS-6/repodata/repomd.xml.key enabled=1</p> <h2 id=gnome-terminal-proxy>gnome terminal proxy</h2> <p>$ ssh -ND 7070 yourname@yourserver $ gconftool-2 -R /system/proxy # show configuration $ gconftool-2 -s /system/proxy/socks_host -t int 127.0.0.1 $ gconftool-2 -s /system/proxy/socks_port -t int 7070 $ gconftool-2 -s /system/proxy/mode -t string manual # enable $ gconftool-2 -s /system/proxy/mode -t string none # disable</p> <h2 id=update-xcode-cmd>update xcode cmd</h2> <h1 id=xcode-select-install>xcode-select --install</h1> <h2 id=test-linux-watchdog>Test linux watchdog</h2> <h1 id=echo-c-procsysrq-trigger>echo c &gt; /proc/sysrq-trigger</h1> <h2 id=bash>Bash环境变量漏洞检测</h2> <p>env x='() { :;}; echo asdasd' bash -c "echo asd"</p> <h2 id=maven-socks5-proxy>maven socks5 proxy</h2> <p>-DsocksProxyHost=127.0.0.1 -DsocksProxyPort=7070</p> <h2 id=when-your-vm-has-2-ethernet-do-noticed-which-one-is-the-default-gateway-or-you-will-fail-in-router-port-forwarding>When your vm has 2 ethernet, DO noticed which one is the default gateway, or you will fail in ROUTER PORT FORWARDING.</h2> <h2 id=delete-raid-info-in-your-disk>Delete RAID info in your disk</h2> <h1 id=dmraid-n-devsda>dmraid -n /dev/sda</h1> <p>DDF1 Anchor at 12345678</p> <h1 id=dd-ifdevzero-ofdevsda-seek12345678-bs512-count1>dd if=/dev/zero of=/dev/sda seek=12345678 bs=512 count=1</h1> <h2 id=postgresql-recovery-when-xlog-failed>Postgresql recovery when xlog failed</h2> <p>$ pg_resetxlog -f -x 0x9A00000 -m 0x10000 -O 0x10000 -l 0x1,0xB67,0x58 -D /var/lib/pgsql/data or $ pg_resetxlog -f /var/lib/pg_sql/data Transaction log reset</p> <h2 id=mysqlphp>解决mysql＋php中文显示问号问题</h2> <p>比如在vtigercrm，zabbix中</p> <p>创建utf8排序的数据库即可</p> <h1 id=mysql>mysql</h1> <blockquote> <p>create database mydb DEFAULT CHARSET utf8 COLLATE utf8_general_ci;</p> </blockquote> <h2 id=mysql-delete-duplicated-rows>Mysql delete duplicated rows</h2> <p>delete from posts where id not in (select * from (select max(n.id) from posts n group by n.title) x);</p> <p>OR</p> <p>create table new as select * from posts where 1 group by url; rename table new master;</p> <h2 id=pip-upgrade-all>pip upgrade all</h2> <p>pip freeze --local | grep -v '^\-e' | cut -d = -f 1 | xargs -n1 pip install -U</p> <h2 id=wget>wget 递归下载</h2> <p>wget -c -r -np -k -L -p http://example.com/dir0/</p> <h2 id=gem>修改gem源</h2> <p>$ gem sources --remove https://rubygems.org/ $ gem sources -a https://ruby.taobao.org/ $ gem sources -l *** CURRENT SOURCES ***</p> <p>https://ruby.taobao.org</p> <h1 id=rubytaobaoorg>请确保只有 ruby.taobao.org</h1> <h2 id=extundeleterm-fr>使用extundelete恢复rm -fr数据</h2> <p>从<a href=http://extundelete.sourceforge.net/ >http://extundelete.sourceforge.net/</a>下载源码，安装efs2progs-devel并编译。</p> <h1 id=mount-devsdb2-mnt-o-ro>mount /dev/sdb2 /mnt -o ro</h1> <h1 id=extundelete-devsdb2-restore-files-relative-path-to-files-after-20140404>extundelete /dev/sdb2 --restore-files relative-path-to-files --after 20140404</h1> <p>OR</p> <h1 id=extundelete-devsdb2-restore-all>extundelete /dev/sdb2 --restore-all</h1> <h2 id=testdiskphotorec>使用TestDisk/PhotoRec恢复分区/数据</h2> <p>从<a href=http://www.cgsecurity.org/wiki/TestDisk>http://www.cgsecurity.org/wiki/TestDisk</a>下载TestDisk，解压后会发现源码以及静态编译文件，直接执行即可，其中TestDisk恢复分区，PhotoRec恢复图片文件。</p> <h2 id=wordpress-excerpt_length>Wordpress 摘要字数搜索关键字excerpt_length</h2> <h2 id=eclipse-multiuser>Eclipse multiuser</h2> <p>Add following code to your eclipse/configuration/config.ini</p> <p>osgi.configuration.area=@user.home/Eclipse/configuration osgi.sharedConfiguration.area=/opt/eclipse/configuration osgi.configuration.cascaded=true</p> <h2 id=get-cer-and-key-out-of-pfx>get cer and key out of pfx</h2> <p>openssl pkcs12 -in domain.pfx -clcerts -nokeys -out domain.cer openssl pkcs12 -in domain.pfx -nocerts -nodes -out domain.key</p> <h2 id=opensslgpg-encryptdecrypt>openssl/gpg encrypt/decrypt</h2> <p>$ echo Hi | openssl enc -aes-128-cbc -a -salt -pass pass:wtf U2FsdGVkX18qAdhqop1SffsewHue6EOPNKv9dXc/0rI= $ echo U2FsdGVkX18qAdhqop1SffsewHue6EOPNKv9dXc/0rI= | openssl enc -aes-128-cbc -a -d -salt -pass pass:wtf Hi</p> <p>OR</p> <h1 id=generate-a-2048-bit-rsa-key-and-store-it-in-keytxt>generate a 2048-bit RSA key and store it in key.txt</h1> <p>openssl genrsa -out key.txt 2048</p> <h1 id=encrypt-hello-world-using-the-rsa-key-in-keytxt>encrypt "hello world" using the RSA key in key.txt</h1> <p>echo "hello world" | openssl rsautl -inkey key.txt -encrypt &gt;output.bin</p> <h1 id=decrypt-the-message-and-output-to-stdout>decrypt the message and output to stdout</h1> <p>openssl rsautl -inkey key.txt -decrypt OR</p> <p>gpg --encrypt -r recipient@example.com &gt;tempfile gpg --decrypt </p> <h2 id=ssh-port-forward>ssh port forward</h2> <h1 id=local-forwarding-with-g-to-share-the-local-port-with-other-hosts>Local Forwarding, with -g to share the local port with other hosts</h1> <p>(localpc)$ ssh -g -L 2222:localhost:22 root@lofyer.org</p> <h1 id=ssh-to-localhost2222-to-connect-lofyerorg>ssh to localhost:2222 to connect lofyer.org</h1> <p>(localpc)$ ssh -lroot -p 2222 localhost</p> <h1 id=remote-forwarding>Remote Forwarding</h1> <p>(localpc)$ ssh -R -L 2222:localhost:22 root@lofyer.org</p> <h1 id=on-host-lofyerorg-ssh-to-localhost2222-to-connect-localpc>On host lofyer.org, ssh to localhost:2222 to connect localpc.</h1> <p>(lofyer.org)$ ssh localhost -p 2222</p> <h1 id=mixed-localpc22-lofyerorg2222>Mixed, localpc:22-&gt;lofyer.org:2222</h1> <h1 id=on-lofyerorg-we-make-a-tunnel2222-to-localpc22>On lofyer.org we make a tunnel(2222) to localpc:22</h1> <p>(localpc)$ ssh -R 2222:localhost:22 lofyer.org</p> <h1 id=make-a-local-tunnel3333-listening-on-all-interface-to-localpc2222>Make a local tunnel(3333) listening on all interface to localpc:2222</h1> <p>(lofyer.org)$ ssh -g -L 3333:localhost:2222 localhost</p> <h1 id=ssh-to-lofyerorg3333-to-connect-localpc22>ssh to lofyer.org:3333 to connect localpc:22</h1> <p>(localpc) ssh lofyer.org -p 3333</p> <h1 id=dynamic-forwarding-with-cn-to-compress-data-and-close-terminal-input>Dynamic Forwarding, with -CN to compress data and close terminal input.</h1> <h1 id=to-start-a-socks-v4v5-server-on-localhost7777>To start a SOCKS v4/v5 server on localhost:7777</h1> <h1 id=then-you-can-use-this-as-a-proxy-for-your-browser>Then you can use this as a proxy for your browser.</h1> <p>(localpc)$ ssh -CND 7777 root@lofyer.org</p> <h2 id=export-private-key-of-iis-that-cannot-be-exported>Export private key of IIS that cannot be exported</h2> <ol> <li>git clone https://github.com/iSECPartners/jailbreak-Windows.git</li> <li>Run mcc.msc, add Cert, save this MCC as a file(i.e. aaa).</li> <li>Run jailbreak64.exe mcc.msc aaa</li> <li>Then you can export the private key from the cert.</li> </ol> <h2 id=iptables-route-to-local-pc>iptables route to local pc</h2> <p>iptables -t nat -A PREROUTING -p tcp --dport 5060:5081 -j DNAT --to-destination 192.168.122.222:5060:5081</p> <p><strong>Change vm root password</strong></p> <p>virt-sysprep --root-password password:123456 -a os.img</p> <h2 id=ubuntu-ap-hotspot-ppa>Ubuntu ap-hotspot PPA</h2> <p>sudo add-apt-repository ppa:nilarimogard/webupd8 sudo apt-get update sudo apt-get install ap-hotspot</p> <h2 id=io-error>恢复IO ERROR文件</h2> <p>dd if=ioerror.file of=file bs=1M conv=noerror</p> <h2 id=qemu-lsi-scsi>QEMU LSI SCSI</h2> <p>qemu-kvm -m 1024 -drive file=centos58-RAW.img,index=0,if=scsi,format=raw -boot c -net nic -net user -nographic -vnc :1 -option-rom 8xx_64.rom,bootindex=1</p> <p><a href=http://blog.lofyer.org/quick-notes/lsi_bios/ >lsi_bios 下载</a></p> <h2 id=yum-remove-nodeps>yum remove nodeps</h2> <p>rpm -e --nodpes PKG yum install PKG</p> <h2 id=file-too-large>File too large</h2> <p>ulimit -n 102400 ulimit -f 102400</p> <h2 id=http-refresh>HTTP REFRESH</h2> <p><meta http-equiv=REFRESH content="0; url=/SOGo/"></p> <h2 id=autoreconf>AUTORECONF</h2> <p>autoreconf -i</p> <h2 id=rpi-x11vnc-auto-start-and-prevent-screen-from-sleeping>RPi x11vnc auto start and prevent screen from sleeping</h2> <p>pi@raspberrypi:~ $ cat .config/lxsession/LXDE-pi/autostart @lxpanel --profile LXDE-pi @pcmanfm --desktop --profile LXDE-pi @xscreensaver -no-splash x11vnc -auth /home/pi/.Xauthority -display :0 @xset s noblank @xset s off @xset -dpms</p> <h2 id=crawl-date-yesterday>Crawl date yesterday</h2> <p>select id,title,content,url,date_format(str_to_date(date, '%d-%M-%Y'), '%Y%m%d') as date_new from posts where date_format(str_to_date(date, '%d-%M-%Y'), '%Y%m%d')=curdate()+0-1;</p> <h2 id=simple-php-server>Simple PHP server</h2> <p>php -S 127.0.0.1:80 -t .</p> <h2 id=macos-reinstall>MacOS reinstall</h2> <h1 id=format-u-disk-at-first-with>Format U disk at first with 区分大小写，日志式</h1> <h1 id=volumeinstall-osxinstall-osxappcontentsresourcescreateinstallmedia-volume-volumeinstall-applicationpath-volumeinstall-osxosxapp>/Volume/Install\ OSX/Install\ OSX.app/Contents/Resources/createinstallmedia --volume /Volume/install --applicationpath /Volume/Install\ OSX/OSX.app</h1> <h2 id=mysql-select-items-yesterday>MySQL select items yesterday</h2> <p>select id,title,content,url,date_format(str_to_date(date, '%d-%M-%Y'), '%Y%m%d') as date_new from posts where date_format(str_to_date(date, '%d-%M-%Y'), '%Y%m%d')=curdate()+0-1;</p> <h2 id=macos-all-source>MACOS all source</h2> <h1 id=macos>macOS 允许所有来源</h1> <p>sudo spctl --master-disable</p> <h2 id=wp-github-all-repos-limit>wp-github all repos limit</h2> <p>120 public function get_repositories() { 121 $contents = $this-&gt;get_response('users/' . $this-&gt;username . '/repos?per_page=100');</p> <h2 id=iconicwidget>修改iconic右侧widget超链接颜色</h2> <p>.widget-area .widget a { /*color: #757575;*/ text-decoration:none; font-size: 98%; }</p> <h2 id=cpu-ipc-usage-4-wide-cpu>CPU IPC usage 4-wide CPU</h2> <p>perf stat -a -- sleep 10</p> <p>Linux, when adding a new disc</p> <p>First find your host bus number</p> <p>grep mpt /sys/class/scsi_host/host?/proc_name</p> <p>Which should return a line like</p> <p>/sys/class/scsi_host/host0/proc_name:mptspi</p> <p>where host0 is the relevant field.</p> <p>use this to rescan the bus with the following command</p> <p>echo "- - -" &gt; /sys/class/scsi_host/host0/scan</p> <p>In the above command the the hyphens represent controller,channel,lun, so – – – indicates all controllers, all channels and all luns should be scanned.</p> <h2 id=ensenp-rename-to-eth0>ens/enp rename to eth0</h2> <p>Edit /etc/default/grub At the end of GRUB_CMDLINE_LINUX line append "net.ifnames=0 biosdevname=0" Save the file Type "grub2-mkconfig -o /boot/grub2/grub.cfg" Type "reboot"</p> <h2 id=change-mysql-database-or-table-encoding>Change mysql database or table encoding</h2> <p>SELECT neutron_ml2; ALTER DATABASE neutron_ml2 CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci; ALTER TABLE standardattributes CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;</p> <p>Or if you're still on MySQL 5.5.2 or older which didn't support 4-byte UTF-8, use utf8 instead of utf8mb4:</p> <p>ALTER DATABASE databasename CHARACTER SET utf8 COLLATE utf8_unicode_ci; ALTER TABLE tablename CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;</p> <h2 id=google-pixel-2-network-x-symbol>Google Pixel 2 network "X" symbol</h2> <h2 id=adb-shell-settings-put-global-captive_portal_https_url-httpscaptivev2excogenerate_204>./adb shell "settings put global captive_portal_https_url https://captive.v2ex.co/generate_204";</h2> <p>title: "transfer IPv6 to IPv4 via socat" date: 2018-10-09 categories: - "linux-admin"</p> <hr> <p>Suppose that you have an ipv6-only server A with ip [ipv6-A], and ipv4-ipv6 server B with ip (ipv4-B, [ipv6-B]).</p> <p>If you wanna visit http://[ipv6-A]:80, but your ISV does not provide some ipv6 addresses. Now then, you'll make B be your "ipv6-ipv4 relay server" with following guide.</p> <p>If TCP:</p> <p>root@B:~# socat tcp4-listen:2222,fork tcp6:[2001:19f0:7001:5a34:5400:01ff:feb5:5bcd]:80</p> <p>If UDP:</p> <p>root@B:~# socat udp4-listen:2222,fork udp6:[2001:19f0:7001:5a34:5400:01ff:feb5:5bcd]:80</p> <p>Now you can visit http://ipv4-B:2222 to access http://[ipv6-A]:80</p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2008 - 2024 lofyer </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../../..", "features": ["search.suggest", "search.highlight", "navigation.tabs", "navigation.tabs.sticky", "navigation.tracking", "navigation.prune", "navigation.instant", "navigation.instant.progess"], "search": "../../../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script> <script src=../../../../../assets/javascripts/bundle.525ec568.min.js></script> <script src=../../../../../javascripts/config.js></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> </body> </html>