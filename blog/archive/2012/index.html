<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content=lofyer><link href=https://docs.lofyer.org/blog/archive/2012/ rel=canonical><link href=../2013/ rel=prev><link href=../2011/ rel=next><link rel=icon href=../../../images/favicon.ico><meta name=generator content="mkdocs-1.6.0, mkdocs-material-9.5.26"><title>2012 - Lofyer's Blog</title><link rel=stylesheet href=../../../assets/stylesheets/main.6543a935.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#2012 class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=页眉> <a href=../../.. title="Lofyer's Blog" class="md-header__button md-logo" aria-label="Lofyer's Blog" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Lofyer's Blog </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> 2012 </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=查找> <button type=reset class="md-search__icon md-icon" title=清空当前内容 aria-label=清空当前内容 tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> 正在初始化搜索引擎 </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/lofyer/lofyer.github.io title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> lofyer/lofyer.github.io </div> </a> </div> </nav> <nav class=md-tabs aria-label=标签 data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Index </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../ class=md-tabs__link> 博客 </a> </li> <li class=md-tabs__item> <a href=../../../datanote/ class=md-tabs__link> Docs </a> </li> <li class=md-tabs__item> <a href=../../../about/about/ class=md-tabs__link> About </a> </li> <li class=md-tabs__item> <a href=../../../template_password/ class=md-tabs__link> [密码保护]Template </a> </li> <li class=md-tabs__item> <a href=../../../tags/ class=md-tabs__link> Tags </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=导航栏 data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="Lofyer's Blog" class="md-nav__button md-logo" aria-label="Lofyer's Blog" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> Lofyer's Blog </label> <div class=md-nav__source> <a href=https://github.com/lofyer/lofyer.github.io title=前往仓库 class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> lofyer/lofyer.github.io </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> <span class=md-ellipsis> Index </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex> <span class=md-ellipsis> 博客 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> 博客 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ class=md-nav__link> <span class=md-ellipsis> 首页 </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2 checked> <label class=md-nav__link for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class=md-ellipsis> 归档 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> 归档 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../2023/ class=md-nav__link> <span class=md-ellipsis> 2023 </span> </a> </li> <li class=md-nav__item> <a href=../2022/ class=md-nav__link> <span class=md-ellipsis> 2022 </span> </a> </li> <li class=md-nav__item> <a href=../2021/ class=md-nav__link> <span class=md-ellipsis> 2021 </span> </a> </li> <li class=md-nav__item> <a href=../2020/ class=md-nav__link> <span class=md-ellipsis> 2020 </span> </a> </li> <li class=md-nav__item> <a href=../2019/ class=md-nav__link> <span class=md-ellipsis> 2019 </span> </a> </li> <li class=md-nav__item> <a href=../2018/ class=md-nav__link> <span class=md-ellipsis> 2018 </span> </a> </li> <li class=md-nav__item> <a href=../2017/ class=md-nav__link> <span class=md-ellipsis> 2017 </span> </a> </li> <li class=md-nav__item> <a href=../2016/ class=md-nav__link> <span class=md-ellipsis> 2016 </span> </a> </li> <li class=md-nav__item> <a href=../2015/ class=md-nav__link> <span class=md-ellipsis> 2015 </span> </a> </li> <li class=md-nav__item> <a href=../2014/ class=md-nav__link> <span class=md-ellipsis> 2014 </span> </a> </li> <li class=md-nav__item> <a href=../2013/ class=md-nav__link> <span class=md-ellipsis> 2013 </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> 2012 </span> </a> </li> <li class=md-nav__item> <a href=../2011/ class=md-nav__link> <span class=md-ellipsis> 2011 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../category/lab/ class=md-nav__link> <span class=md-ellipsis> 分类 </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../datanote/ class=md-nav__link> <span class=md-ellipsis> Docs </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../../../about/about/ class=md-nav__link> <span class=md-ellipsis> About </span> </a> </li> <li class=md-nav__item> <a href=../../../template_password/ class=md-nav__link> <span class=md-ellipsis> [密码保护]Template </span> </a> </li> <li class=md-nav__item> <a href=../../../tags/ class=md-nav__link> <span class=md-ellipsis> Tags </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <div class=md-content__inner> <header class=md-typeset> <h1 id=2012>2012</h1> </header> <article class="md-post md-post--excerpt"> <header class=md-post__header> <div class="md-post__meta md-meta"> <ul class=md-meta__list> <li class=md-meta__item> <time datetime="2012-10-24 00:00:00">2012年10月24日</time></li> <li class=md-meta__item> 分类于 <a href=../../category/mylife/ class=md-meta__link>mylife</a></li> <li class=md-meta__item> 需要 1 分钟阅读时间 </li> </ul> </div> </header> <div class="md-post__content md-typeset"> <h2 id=-><a href=../../2012/10/24/%E7%94%BB--%E5%A2%9E%E8%A1%A5/ class=toclink>画--增补</a></h2> <p>这是lofyer早期的作品 <a href=http://blog.lofyer.org/archives/1624/attachment/1123><img alt=1123 src=/blog/images/1123.jpg></a></p> <p>这是最近的作品 <a href=http://lofyer.org/wp-content/uploads/2012/10/2012-08-23_07-01-04_1171.jpg><img alt=2012-08-23_07-01-04_117[1] src=/blog/images/2012-08-23_07-01-04_1171.jpg></a></p> </div> </article> <article class="md-post md-post--excerpt"> <header class=md-post__header> <div class="md-post__meta md-meta"> <ul class=md-meta__list> <li class=md-meta__item> <time datetime="2012-10-21 00:00:00">2012年10月21日</time></li> <li class=md-meta__item> 分类于 <a href=../../category/devices/ class=md-meta__link>devices</a></li> <li class=md-meta__item> 需要 1 分钟阅读时间 </li> </ul> </div> </header> <div class="md-post__content md-typeset"> <h2 id=arduino><a href=../../2012/10/21/arduino/ class=toclink>Arduino相关</a></h2> <p>目前最流行的是uno系列，而leonardo好象是在1.0.1后才加入的，其ide开发是在github上进行。 设计很清爽（因为没有UI设计师吧），希望别像keil一样越来越冗余。</p> <p><a href=http://69.164.197.168/wp-content/uploads/2012/10/Screenshot-from-2012-10-22-200253.png><img alt src=/blog/images/Screenshot-from-2012-10-22-200253.png title="Screenshot from 2012-10-22 20:02:53"></a></p> <hr> <h3 id=arduino-io2012><a class=toclink href=../../2012/10/21/arduino/#arduino-io2012>Arduino IO生成波形的问题(2012)</a></h3> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span></pre></div></td><td class=code><div><pre><span></span><code>DigitalWrite(pin,HIGH);
DELAY(10);
DigitalWrite(pin,LOW)
DELAY(10);
</code></pre></div></td></tr></table></div> <p>观察波形（上升沿触发）频率是51Hz，峰值为0.520V（使用外接电源的情况下，USB作电源为0.505V）。 除掉市电滤波的原因，应该是128本身Timer造成的问题，因DELAY使用的是Timer，选中的端口同样为Timer可用的端口，故在电平维持时可看到波形有毛刺（示波器太烂了吧）。</p> <hr> <h3 id=arduinocpu><a class=toclink href=../../2012/10/21/arduino/#arduinocpu>使用Arduino显示主机CPU</a></h3> <p>https://github.com/lofyer/arduino-hostcpuload-led</p> <p>用libgtop2的库，已完成。 注意： 数据以ascii类型传输，调用led时转化为int cpu利用率算式:</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code>(float)(100\*(cpu\_time2.(sys+user)-cpu\_time2.(sys+user))/(cpu\_time2.total-cpu\_time1.total))
</code></pre></div></td></tr></table></div> </div> </article> <article class="md-post md-post--excerpt"> <header class=md-post__header> <div class="md-post__meta md-meta"> <ul class=md-meta__list> <li class=md-meta__item> <time datetime="2012-10-18 00:00:00">2012年10月18日</time></li> <li class=md-meta__item> 分类于 <a href=../../category/cloud-infra/ class=md-meta__link>cloud-infra</a></li> <li class=md-meta__item> 需要 5 分钟阅读时间 </li> </ul> </div> </header> <div class="md-post__content md-typeset"> <h2 id=ovirt><a href=../../2012/10/18/ovirt-notes/ class=toclink>oVirt相关</a></h2> <p>Ovirt Just make some notes: # need net qemu-kvm -m 1024 -localtime -M pc -smp 2 -drive file=ovirt.qcow2,cache=writeback,boot=on -boot d -name kvm-ovirt,process=ovirt -usb -usbdevice tablet Ovirt provided a fedora.iso with node in it. Ao is building the engine.</p> <h2 id=on-virtfan-spicec-h-localhost-p-5910><a class=toclink href=../../2012/10/18/ovirt-notes/#on-virtfan-spicec-h-localhost-p-5910>on virtfan spicec -h localhost -p 5910</a></h2> <p>node应该是自动加入engine的，结果是现在能加入，但是不能安装 nmap后engine确实是有8443，node只有22，安装过程是交互的（node通过外网获取安装包，返回状态到engine）</p> <p>改变端口为443，按照troubleshooting更改engine上的nfs服务。f17上nfs默认建立服务为v4，要改为v3，并且添加group和user id分别为36的vdsm与kvm，用提供的脚本测试下。 <a href=http://wiki.ovirt.org/wiki/Troubleshooting_NFS_Storage_Issues title="fix the nfs">Troubleshooting_NFS_Storage_Issues</a></p> <p>ok，等明天加入节点就可以了。</p> <p>Building ovirt from source <a href=http://wiki.ovirt.org/wiki/Building_oVirt_engine title="with cmdline">with cmdline</a> <a href=http://wiki.ovirt.org/wiki/Building_Ovirt_Engine/IDE title="within an ide">within an ide</a> <a href=https://community.jboss.org/en/tools/blog/2011/02/21/getting-started-with-jboss-tools-jboss-maven-integration-and-weld title="install jboss maven plugin on eclipse">install jboss maven plugin on eclipse</a></p> <p>here's the engine arch <a href=http://69.164.197.168/wp-content/uploads/2012/10/Engine-arch.png><img alt src=/blog/images/Engine-arch.png title=Engine-arch></a></p> <p>and here's the engine-core arch <a href=http://69.164.197.168/wp-content/uploads/2012/10/Engine-arch2.png><img alt src=/blog/images/Engine-arch2.png title=Engine-arch2></a></p> <h3 id=engine-manage-domainipa-serverwindowsactivedirectoryengineipa-ipa-server><a class=toclink href=../../2012/10/18/ovirt-notes/#engine-manage-domainipa-serverwindowsactivedirectoryengineipa-ipa-server>运行engine-manage-domain需要ipa-server，类似windows的ActiveDirectory，需要不同于engine的主机上安装ipa <a href=http://blog.jaurola.fi/2011/12/28/implementing-ipa-server-with-windowslinux-environment title=ipa-server>安装ipa-server</a></a></h3> <p>title: "Add nat to ovirt via vdsm hooks" date: 2014-05-04 categories: - "cloud-infra"</p> <hr> <p>OK, I do not like control group very much for now.</p> <h3 id=comment-device-section-in-control-group-config-sorry-for-my-laziness><a class=toclink href=../../2012/10/18/ovirt-notes/#comment-device-section-in-control-group-config-sorry-for-my-laziness>Comment device section in control group config, sorry for my laziness...</a></h3> <p>mount { cpuset = /cgroup/cpuset; cpu = /cgroup/cpu; cpuacct = /cgroup/cpuacct; memory = /cgroup/memory;</p> <h2 id=devices-cgroupdevices><a class=toclink href=../../2012/10/18/ovirt-notes/#devices-cgroupdevices>devices = /cgroup/devices;</a></h2> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code>    freezer = /cgroup/freezer;
</code></pre></div></td></tr></table></div> <h2 id=net_cls-cgroupnet_cls><a class=toclink href=../../2012/10/18/ovirt-notes/#net_cls-cgroupnet_cls>net_cls = /cgroup/net_cls;</a></h2> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code>    blkio   = /cgroup/blkio;
</code></pre></div></td></tr></table></div> <p>}</p> <h3 id=enable-ip-forward><a class=toclink href=../../2012/10/18/ovirt-notes/#enable-ip-forward>Enable ip forward</a></h3> <p>net.ipv4.ip_forward = 1</p> <p><strong>Reboot the host</strong></p> <h3 id=connect-to-virsh-to-enable-libvirts-default-virbr0nat><a class=toclink href=../../2012/10/18/ovirt-notes/#connect-to-virsh-to-enable-libvirts-default-virbr0nat>Connect to virsh to enable libvirt's default virbr0(NAT)</a></h3> <p>If you don't know the password for your account, just use command below to create one.</p> <h2 id=saslpasswd2-a-libvirt-root><a class=toclink href=../../2012/10/18/ovirt-notes/#saslpasswd2-a-libvirt-root>saslpasswd2 -a libvirt root</a></h2> <p>Create a nat network.</p> <p>nat b42e377d-e849-4c36-bd98-3d090def5ecc </p> <h2 id=virsh-net-create-etclibvirtqemunetworksnatxml><a class=toclink href=../../2012/10/18/ovirt-notes/#virsh-net-create-etclibvirtqemunetworksnatxml>virsh net-create /etc/libvirt/qemu/networks/nat.xml</a></h2> <h2 id=virsh-net-autostart-nat><a class=toclink href=../../2012/10/18/ovirt-notes/#virsh-net-autostart-nat>virsh net-autostart nat</a></h2> <h2 id=virsh-net-start-nat><a class=toclink href=../../2012/10/18/ovirt-notes/#virsh-net-start-nat>virsh net-start nat</a></h2> <h3 id=create-tun-device-and-add-it-to-virbr0><a class=toclink href=../../2012/10/18/ovirt-notes/#create-tun-device-and-add-it-to-virbr0>Create tun device and add it to virbr0</a></h3> <p><strong>UPDATE: This could be ignored if you use extnet.py</strong></p> <h2 id=tunctl-t-nat0-u-qemu><a class=toclink href=../../2012/10/18/ovirt-notes/#tunctl-t-nat0-u-qemu>tunctl -t nat0 -u qemu</a></h2> <h2 id=brctl-addif-virbr1-nat0><a class=toclink href=../../2012/10/18/ovirt-notes/#brctl-addif-virbr1-nat0>brctl addif virbr1 nat0</a></h2> <h3 id=add-hook-file-to-vdsm><a class=toclink href=../../2012/10/18/ovirt-notes/#add-hook-file-to-vdsm>Add hook file to vdsm</a></h3> <p><strong>UPDATE: use extnet from github with a little modification (Only the first vNIC will be NAT, the second one still keeps its way).</strong></p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span></pre></div></td><td class=code><div><pre><span></span><code>#!/usr/bin/python

import os
import sys
import traceback
import xml.dom
import hooking

def replaceSource(interface, newnet):
    source, = interface.getElementsByTagName(&#39;source&#39;)
    source.removeAttribute(&#39;bridge&#39;)
    source.setAttribute(&#39;network&#39;, newnet)
    interface.setAttribute(&#39;type&#39;, &#39;network&#39;)

def main():
    params = &quot;default&quot;
    os.environ.\_\_setitem\_\_(&quot;extnet&quot;,params)
    newnet = os.environ.get(&#39;extnet&#39;)
    if newnet is not None:
        doc = hooking.read\_domxml()
        interface = doc.getElementsByTagName(&#39;interface&#39;)[0]
        replaceSource(interface, newnet)
        hooking.write\_domxml(doc)
def test():

    interface = xml.dom.minidom.parseString(&quot;&quot;&quot;
    &quot;&quot;&quot;).getElementsByTagName(&#39;interface&#39;)[0]

    print &quot;Interface before forcing network: %s&quot; % \\
        interface.toxml(encoding=&#39;UTF-8&#39;)

    replaceSource(interface, &#39;yipee&#39;)
    print &quot;Interface after forcing network: %s&quot; % \\
        interface.toxml(encoding=&#39;UTF-8&#39;)

if \_\_name\_\_ == &#39;\_\_main\_\_&#39;:
    try:
        if &#39;--test&#39; in sys.argv:
            test()
        else:
            main()
    except:
        hooking.exit\_hook(&#39;extnet hook: [unexpected error]: %s\\n&#39; %
                          traceback.format\_exc()) 
</code></pre></div></td></tr></table></div> <p><strong>QEMU-CMD way:</strong></p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span></pre></div></td><td class=code><div><pre><span></span><code>import os
import sys
import hooking
import traceback
import json
import shutil

def addQemuNs(domXML):
    domain = domXML.getElementsByTagName(&#39;domain&#39;)[0]
    domain.setAttribute(&#39;xmlns:qemu&#39;,
                        &#39;http://libvirt.org/schemas/domain/qemu/1.0&#39;)

def injectQemuCmdLine(domXML, qc):
    domain = domXML.getElementsByTagName(&#39;domain&#39;)[0]
    qctag = domXML.createElement(&#39;qemu:commandline&#39;)

    for cmd in qc:
        qatag = domXML.createElement(&#39;qemu:arg&#39;)
        qatag.setAttribute(&#39;value&#39;, cmd)

        qctag.appendChild(qatag)

    domain.appendChild(qctag)
domxml = hooking.read\_domxml()

# Get vm uuid, just in case

cur\_vm\_uuid = domxml.getElementsByTagName(&#39;uuid&#39;)[0].firstChild.nodeValue

macaddr = &quot;94:de:80:ea:30:f5&quot;
natname = &quot;nat0&quot;
params = &#39;[&quot;-netdev&quot;,&quot;tap,ifname=%s,script=no,id=hostnet0,downscript=no&quot;,&quot;-device&quot;,&quot;virtio-net-pci,mac=%s,netdev=hostnet0,bus=pci.0,addr=0x10&quot;]&#39; % (natname, macaddr)
os.environ.\_\_setitem\_\_(&quot;qemu\_cmdline&quot;,params)

# Modify Qemu Parameter

if &#39;qemu\_cmdline&#39; in os.environ:
    try:
        domxml = hooking.read\_domxml()

        qemu\_cmdline = json.loads(os.environ[&#39;qemu\_cmdline&#39;])
        addQemuNs(domxml)
        injectQemuCmdLine(domxml, qemu\_cmdline)

        hooking.write\_domxml(domxml)
    except:
        sys.stderr.write(&#39;qemu\_cmdline: [unexpected error]: %s\\n&#39;
                         % traceback.format\_exc())
        sys.exit(2)
</code></pre></div></td></tr></table></div> <h3 id=then-you-should-start-the-vm-without-any-nic-if-you-are-using-natpy><a class=toclink href=../../2012/10/18/ovirt-notes/#then-you-should-start-the-vm-without-any-nic-if-you-are-using-natpy>Then you should start the vm <strong>WITHOUT ANY NIC</strong> if you are using <em>nat.py</em>.</a></h3> <p>title: "Migrate vm from ESXi to oVirt" date: 2014-04-25 categories: - "cloud-infra"</p> <hr> <p>oVirt: v3.3, CentOS, 192.168.1.111 ESXi: 5.x, 192.168.1.135</p> <p><strong>For Windows vm, do this</strong> <a href=http://pve.proxmox.com/wiki/Migration_of_servers_to_Proxmox_VE#VMware_to_Proxmox_VE_.28KVM.29>http://pve.proxmox.com/wiki/Migration_of_servers_to_Proxmox_VE#VMware_to_Proxmox_VE_.28KVM.29</a> Before you begin make a copy of the VMware image. <strong>Remove VMware tools</strong> Start the Windows virtual machine on VMware and remove the VMware tools via the Windows control panel. Reboot. <strong>Enable IDE</strong> Start the Windows virtual machine on VMware and execute the mergeide.reg (File:<a href=http://blog.lofyer.org/migrate-vm-esxi-ovirt/mergeide/ >Mergeide</a>). Now the registry is changed that your Windows can boot from IDE, necessary for KVM. Make sure Atapi.sys, Intelide.sys, Pciide.sys, and Pciidex.sys are in the %SystemRoot%\System32\Drivers folder. If any are missing they can be extracted from %SystemRoot%\Driver Cache\I386\Driver.cab which can be opened in Windows file Exlorer like a directory and then the missing files can be copied out. <a href=https://support.microsoft.com/en-us/kb/314082>see Microsoft KB article for details.</a> <strong>Shutdown Windows.</strong></p> <ol> <li>Create a nfs export domain on your oVirt datacenter.</li> </ol> <p>/vdsm/export 0.0.0.0/0.0.0.0(rw)</p> <ol> <li>Install virt-v2v on CentOS and add authentication.</li> </ol> <h2 id=yum-install-virt-v2v><a class=toclink href=../../2012/10/18/ovirt-notes/#yum-install-virt-v2v>yum install virt-v2v</a></h2> <p>machine 192.168.1.135 login root password 1234567</p> <p>Change permission of <em>.netrc</em> as saying of manual or you will get a warning with wrong permission.</p> <h2 id=chmod-600-netrc><a class=toclink href=../../2012/10/18/ovirt-notes/#chmod-600-netrc>chmod 600 ~/.netrc</a></h2> <ol> <li>Import myvm. <strong>Make sure that your vm in ESXi is powered off.</strong></li> </ol> <h2 id=virt-v2v-ic-esx1921681135no_verify1-o-rhev-os-1921681111virtfanexport-network-mgmtnet-myvm><a class=toclink href=../../2012/10/18/ovirt-notes/#virt-v2v-ic-esx1921681135no_verify1-o-rhev-os-1921681111virtfanexport-network-mgmtnet-myvm>virt-v2v -ic esx://192.168.1.135/?no_verify=1 -o rhev -os 192.168.1.111:/virtfan/export --network mgmtnet myvm</a></h2> <p>myvm_myvm: 100% [====================================================]D 0h04m48s</p> <p>virt-v2v: myvm configured with virtio drivers.</p> <ol> <li>Import myvm from export domain to data domain.</li> </ol> <p><strong>Import.</strong></p> <p><a href=http://blog.lofyer.org/migrate-vm-esxi-ovirt/import/ ><img alt=import src=/blog/images/import.png></a></p> <p><strong>Run.</strong></p> <p><a href=http://blog.lofyer.org/migrate-vm-esxi-ovirt/run/ ><img alt=run src=/blog/images/run.png></a></p> <h3 id=vdsm-2012-10-29><a class=toclink href=../../2012/10/18/ovirt-notes/#vdsm-2012-10-29>"VDSM" "2012-10-29"</a></h3> <p>不喜欢java，就是不喜欢。。但还是要干的。。 4000多个文件构建UML图的话有点困难，都是小类，看了些tools的代码，然后转到vdsm内容，通讯方式是xml-rpc，当初我猜对了。</p> <p>vdsm是oVirt的节点代理，功能可订制，也可移植到其他管理平台，基于KVM，储存VM各种暂态数据 vdsm提供的api通过xmlrpc使用，架构如下</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span></pre></div></td><td class=code><div><pre><span></span><code>------------+------VDSM-------+------+-----
            |                 |      |
    sysfs---+                 |      |
      LVM---+              libvirt   |
net-tools---+              qmp|      |Virtio serial
      xxx---+             ---+      +-------------/
           ...                |      |
                      -------/        \-------
                     /                        \
                    |  KVM-QEMU VM             |
                     \________________________/
</code></pre></div></td></tr></table></div> <p>主要包括vdsm,vdsm_cli,vds_bootstrap,vdsm_reg,vdsm_hooks 其中lifecycle hooks有针对vdsm和vm在before和after期间 bootstrap用于验证兼容性，包括网络，cpu，认证等，目前只支持RH自家产品</p> </div> </article> <article class="md-post md-post--excerpt"> <header class=md-post__header> <div class="md-post__meta md-meta"> <ul class=md-meta__list> <li class=md-meta__item> <time datetime="2012-10-12 00:00:00">2012年10月12日</time></li> <li class=md-meta__item> 分类于 <a href=../../category/collect/ class=md-meta__link>collect</a></li> <li class=md-meta__item> 需要 1 分钟阅读时间 </li> </ul> </div> </header> <div class="md-post__content md-typeset"> <h2 id=_1><a href=../../2012/10/12/%E9%BB%91%E5%AE%A2%E4%B8%8E%E7%94%BB%E5%AE%B6%E6%91%98%E6%8A%84/ class=toclink>黑客与画家（摘抄）</a></h2> <p>1.使用计算机以及所有有助于了解这个世界本质的事物都不应受到任何限制。任何事情都应该亲手尝试。</p> <p>Access to computer--and anythin that might teach you something about the way the world works--should be unlimited and total. Always yield to the Hands-On Imperative.</p> <p>2.信息应该全部免费。</p> <p>All information should be free.</p> <p>3.不信任权威，提倡去中心化。</p> <p>Mistrust Authority--Promote Decentralization.</p> <p>4.判断一名黑客水平应该看他的技术能力，而不是他的学历、年龄或地位等其他标准。</p> <p>Hackers should be judged by their hacking, not bogus criteria such as degrees, age, race, or position.</p> <p>5.你可以用计算机创造美和艺术。</p> <p>You can create art and beauty on a computer.</p> <p>6.计算机使生活更美好。</p> <p>Computers can change your life for the better.</p> <p>幽默一定程度上反映了力量。幽默感是强壮的一种表现，始终拥有幽默感代表你对厄运一笑了之，而丧失幽默感则表示你被厄运深深伤到。所以，强壮的标志（或至少是特点）就是轻松面对自己的人生。充满自信的人常常像燕子一样，以一种居高临下的姿态轻盈地看到周围的一切，比如希区柯克拍摄的电影、16世纪画家勃鲁盖尔的绘画（甚至莎士比亚也是这方面的一个例子。）</p> </div> </article> <article class="md-post md-post--excerpt"> <header class=md-post__header> <div class="md-post__meta md-meta"> <ul class=md-meta__list> <li class=md-meta__item> <time datetime="2012-10-11 00:00:00">2012年10月11日</time></li> <li class=md-meta__item> 分类于 <a href=../../category/mylife/ class=md-meta__link>mylife</a></li> <li class=md-meta__item> 需要 1 分钟阅读时间 </li> </ul> </div> </header> <div class="md-post__content md-typeset"> <h2 id=dnspod><a href=../../2012/10/11/%E8%AE%A9dnspod%E8%A7%A3%E6%9E%90%E4%BA%86/ class=toclink>让dnspod解析了</a></h2> <p>godaddy的解析在朝内老是挂掉，有人说国内的dnspod不错，就换换试试了，添加@ A与www A记录，在gd上设置ns为dnspod的，也就半小时就好了。</p> <p>吐槽下pod的进阶服务怎么不识别我电信手机号←_←</p> </div> </article> <article class="md-post md-post--excerpt"> <header class=md-post__header> <div class="md-post__meta md-meta"> <ul class=md-meta__list> <li class=md-meta__item> <time datetime="2012-09-18 00:00:00">2012年9月18日</time></li> <li class=md-meta__item> 分类于 <a href=../../category/linux-admin/ class=md-meta__link>linux-admin</a></li> <li class=md-meta__item> 需要 9 分钟阅读时间 </li> </ul> </div> </header> <div class="md-post__content md-typeset"> <h2 id=_1><a href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/ class=toclink>实用笔记</a></h2> <h3 id=webframework><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#webframework>WebFramework:</a></h3> <p>Django Cappuccino-&gt;mockingbird</p> <h3 id=tab><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#tab>搜索Tab</a></h3> <p>grep -P "t"</p> <h3 id=_2><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#_2>批量替换</a></h3> <p>sed -i "s/qwe/asd/g" `grep -rl "qwe"`</p> <h3 id=cmake-opencvlibpkg-configopencvpcusrlibpkg-configpkg-config><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#cmake-opencvlibpkg-configopencvpcusrlibpkg-configpkg-config>cmake 配置安装完opencv后，将安装路径中到lib/pkg-config/opencv.pc复制到/usr/lib/pkg-config，然后可以进行pkg-config 查找</a></h3> <h3 id=gnome3><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#gnome3>gnome3任务栏快捷方式的存放位置拖到浏览器或者终端里你就看见了。。</a></h3> <h3 id=curl-post><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#curl-post>curl POST</a></h3> <p>curl -X POST -d '4142430A02000' http://user:pass@myhost/hudson/job/_jobName_/postBuildResult</p> <p>curl -X POST -d @myfilename http://user:pass@myhost/hudson/job/_jobName_/postBuildResult</p> <h3 id=ddwrt><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#ddwrt>ddwrt 内网不能访问内网域名</a></h3> <p>iptables -t nat -I POSTROUTING -o br0 -s 192.168.0.188/24 -d 192.168.0.188/24 -j MASQUERADE</p> <h3 id=vpn><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#vpn>vpn的内网的问题</a></h3> <p>iptables -t nat -A POSTROUTING -s 10.8.0.0/24 -o eth0 -j SNAT --to-source 70.8.7.6</p> <p>iptables -t nat -A POSTROUTING -o eth0 -s 172.16.1.0/24 -j MASQUERADE</p> <h3 id=delete-git-branch><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#delete-git-branch>delete git branch</a></h3> <p>git push origin :yourbranch</p> <h3 id=ipa-client-reinstall><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#ipa-client-reinstall>ipa client reinstall</a></h3> <p>删除_/etc/ipa/ca.crt_证书</p> <h3 id=fedoracd><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#fedoracd>fedora制作安装cd</a></h3> <h2 id=binbash><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#binbash>!/bin/bash</a></h2> <p>livecd-creator --config=/usr/share/spin-kickstarts/fedora-livecd-desktop.ks \ --fslabel=Test \ --tmpdir=/root/iso/tmp \ --cache=/root/iso/cache \ --nocleanup \ --cacheonly #为节约下载时间可在以后制作时忽略</p> <h3 id=mysql-grant><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#mysql-grant>mysql grant</a></h3> <p>grant all privileges on *.* to root@'%' identified by '123456'; flush privileges;</p> <h3 id=kvm-nested><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#kvm-nested>打开kvm nested参数</a></h3> <p>cat /sys/module/kvm_intel/parameters/nested</p> <p>为N则</p> <p>modprobe -r kvm-intel modprobe kvm-intel nested=1</p> <h3 id=fedora-rawhide><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#fedora-rawhide>Fedora滚动升级版 Rawhide</a></h3> <p>yum install fedora-release-rawhide yum-config-manager --disable fedora updates updates-testing yum-config-manager --enable rawhide yum update yum yum --releasever=rawhide distro-sync --nogpgcheck</p> <p>or</p> <p>dnf upgrade --refresh dnf install dnf-plugin-system-upgrade dnf system-upgrade download --refresh --releasever=rawhide --allowerasing dnf system-upgrade reboot</p> <h3 id=opensuse-tumbleweed><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#opensuse-tumbleweed>Opensuse滚动升级版 Tumbleweed</a></h3> <p>zypper ar --refresh http://download.opensuse.org/repositories/openSUSE:/Tumbleweed/standard/ Tumbleweed zypper ar --refresh http://download.opensuse.org/distribution/openSUSE-current/repo/oss/ 'openSUSE Current OSS' zypper ar --refresh http://download.opensuse.org/distribution/openSUSE-current/repo/non-oss/ 'openSUSE Current non-OSS' zypper ar --refresh http://download.opensuse.org/update/openSUSE-current/ 'openSUSE Current updates' zypper ar --refresh http://download.opensuse.org/update/openSUSE-non-oss-current/ 'openSUSE Current non-OSS updates' zypper dup</p> <h3 id=vs2012><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#vs2012>vs2012修复补丁</a></h3> <p>由于升级.net 4.5会出现vs2012部分项目失败，可以打这个补丁修复 <a href="http://www.microsoft.com/zh-cn/download/details.aspx?id=36020" title="http://www.microsoft.com/zh-cn/download/details.aspx?id=36020">Microsoft Visual Studio 2012 更新 (KB2781514)</a></p> <h3 id=restclient><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#restclient>RESTClient</a></h3> <p>针对RESTful的API可以使用这个工具 <a href=http://restclient.org title=http://restclient.org>http://restclient.org</a></p> <h3 id=dl-sslgooglecom><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#dl-sslgooglecom>dl-ssl.google.com</a></h3> <p>74.125.237.1</p> <h3 id=owncloud-repo><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#owncloud-repo>owncloud repo</a></h3> <p>http://software.opensuse.org/download/package?project=isv:ownCloud:devel&amp;package=owncloud-client</p> <h3 id=android-google-play><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#android-google-play>android google play</a></h3> <p>cp /data/app/googleplay /system/app/</p> <h3 id=gravatar><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#gravatar>获取Gravatar头像</a></h3> <p>curl http://www.gravatar.com/avatar/`echo -n me@mydomain.com | md5sum` &gt; gravatar.jpg</p> <h3 id=maven-insecure-ssl><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#maven-insecure-ssl>Maven insecure SSL</a></h3> <p>-Dmaven.wagon.http.ssl.insecure=true -Dmaven.wagon.http.ssl.allowall=true</p> <h3 id=bvnc-build><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#bvnc-build>bVNC build</a></h3> <p>FreeRDP: checkout dbbb341; cmake .; ant release Singed keystore: keytool -genkey -alias android.keystore -keyalg RSA -validity 20000 -keystore android.keystore http://www.mail-archive.com/spice-devel@lists.freedesktop.org/msg13763.html</p> <h3 id=ipa-add-user><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#ipa-add-user>IPA ADD-USER</a></h3> <h2 id=binbash_1><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#binbash_1>!/bin/bash</a></h2> <p>echo -e "pswd4admin\n" | kinit admin echo -e "<span class=arithmatex>\(1\\n\)</span>1\n<span class=arithmatex>\(1\\n" | ipa user-add echo -e "\)</span>1\n<span class=arithmatex>\(1\\n" | ipa passwd <span class=arithmatex>\(1 sleep 1 echo -e "\)</span>1\\n\)</span>1\n$1\n" | kinit $1</p> <h3 id=ntp-server><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#ntp-server>NTP server</a></h3> <p>server 192.168.1.11 mask 255.255.0.0 nomodify 启动ntpd后要等个几分钟，client才能去同步，否则报错说未找到合适的ntp服务器</p> <h3 id=rsync><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#rsync>rsync</a></h3> <p>rsync -zvrtopgal -e ssh --delete --stats --progress --exclude 'ignore.txt' root@lofyer.org:/var/log /home/lofyer/lofyer.org/</p> <h3 id=centos-smartcard><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#centos-smartcard>CentOS Smartcard</a></h3> <p>SmartCard service: openct pcscd</p> <h3 id=zathura><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#zathura>zathura</a></h3> <p>很好的PDF阅读器</p> <h3 id=ssh-without-password><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#ssh-without-password>ssh without password</a></h3> <h2 id=generate-rsa-key-pair-without-passphrase><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#generate-rsa-key-pair-without-passphrase>Generate rsa key pair without passphrase</a></h2> <p>[demo@A ~]$ ssh-keygen -t rsa</p> <h2 id=copy-pub-key-to-b><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#copy-pub-key-to-b>Copy pub key to B</a></h2> <p>[demo@A ~]$ cat .ssh/id_rsa.pub | ssh alpha@B 'cat &gt;&gt; .ssh/authorized_keys2'</p> <h2 id=add-private-key-to-a><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#add-private-key-to-a>Add private key to A</a></h2> <p>[demo@A ~]$ ssh-add ~/.ssh/id_rsa or just [demo@A ~]$ ssh-copy-id alpha@B</p> <h3 id=ssh-to-a-new-host-without-key-checking-promption><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#ssh-to-a-new-host-without-key-checking-promption>ssh to a new host without key checking promption</a></h3> <h2 id=vim-etcsshssh_config><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#vim-etcsshssh_config>vim /etc/ssh/ssh_config</a></h2> <p>... StrictHostKeyChecking no ...</p> <h3 id=debian-offcie><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#debian-offcie>debian offcie乱码</a></h3> <p>安装文泉逸字体 apt-get install fonts-wenquanyi</p> <h3 id=debian-virt-viewer-with-spice><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#debian-virt-viewer-with-spice>debian virt-viewer with spice</a></h3> <p>deb http://mirrors.163.com/debian/ unstable main deb-src http://mirrors.163.com/debian/ unstable main</p> <p>deb http://security.debian.org/ unstable/updates main deb-src http://security.debian.org/ unstable/updates main</p> <h2 id=unstable-updates-previously-known-as-volatile><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#unstable-updates-previously-known-as-volatile>unstable-updates, previously known as 'volatile'</a></h2> <p>deb http://mirrors.163.com/debian/ unstable-updates main deb-src http://mirrors.163.com/debian/ unstable-updates main deb http://apt.wxwidgets.org/ unstable-wx main deb-src http://apt.wxwidgets.org/ unstable-wx main</p> <h3 id=better-dns><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#better-dns>Better DNS</a></h3> <p>dns1: 199.91.73.222 dns2: 8.8.8.8</p> <h3 id=audit-log><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#audit-log>audit log</a></h3> <p>Modify <em>/etc/audit/audit.conf</em> to 8192 or bigger.</p> <h3 id=memcached><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#memcached>memcached</a></h3> <p><strong>PHP</strong></p> <h2 id=apt-get-install-memcached-php5-memcached><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#apt-get-install-memcached-php5-memcached>apt-get install memcached php5-memcached</a></h2> <p>modify <em>/etc/php5/conf.d/memcached.ini</em></p> <h3 id=disable-tso-gso-to-improve-virtio-net><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#disable-tso-gso-to-improve-virtio-net>disable TSO GSO to improve virtio-net</a></h3> <h2 id=ethtool-k-eth0-gso-off><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#ethtool-k-eth0-gso-off>ethtool -K eth0 gso off</a></h2> <h2 id=ethtool-k-eth0-tso-off><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#ethtool-k-eth0-tso-off>ethtool -K eth0 tso off</a></h2> <h3 id=disable-packagekit-in-fedora><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#disable-packagekit-in-fedora>disable PackageKit in Fedora</a></h3> <p><em>/etc/yum/pluginconf.d/refresh-packagekit.conf</em></p> <p>enabled=0</p> <h3 id=_3><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#_3>推荐一种工作方式</a></h3> <p>集成显卡下运行linux，将另一块硬盘或者vdisk，还有独立显卡passthrough给虚拟机Win7，协议使用spice，这是很爽啊</p> <h3 id=crt-key-to-pem><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#crt-key-to-pem>crt &amp; key to pem</a></h3> <p>openssl x509 -inform DER -outform PEM -in server.crt -out server.crt.pem openssl rsa -inform DER -outform PEM -in server.key -out server.key.pem cat server.crt.pem server.key.pem &gt;&gt; server.pem</p> <h3 id=wireless-relay-for-tomata><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#wireless-relay-for-tomata>wireless relay for tomata</a></h3> <p>设置无线中继时确保主路由和从路由的SSID、密码、加密方式一致，不要使用WPA/WPA-2混合模式</p> <h3 id=libvirt-password><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#libvirt-password>libvirt password</a></h3> <h2 id=saslpasswd2-a-libvirt-root><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#saslpasswd2-a-libvirt-root>saslpasswd2 -a libvirt root</a></h2> <h3 id=netcatnc-tips><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#netcatnc-tips>netcat(nc) tips</a></h3> <p><strong>大传输文件(file transfer)</strong></p> <p>server: nc -l 5555 &lt; file_to_copy client: nc server_ip 5555 &gt; new_file</p> <p><strong>聊天(chat)</strong></p> <p>client1: nc -l 5555 client2: nc server_ip 5555</p> <p><strong>udp connection</strong></p> <p>server: nc -4 -u -l 5555 clinet: nc -4 -u localhost 5555</p> <h3 id=owncloud-repo_1><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#owncloud-repo_1>owncloud repo</a></h3> <p>[isv_ownCloud_community] name=Latest stable community release of ownCloud (CentOS_CentOS-6) type=rpm-md baseurl=http://download.opensuse.org/repositories/isv:/ownCloud:/community/CentOS_CentOS-6/ gpgcheck=1 gpgkey=http://download.opensuse.org/repositories/isv:/ownCloud:/community/CentOS_CentOS-6/repodata/repomd.xml.key enabled=1</p> <h3 id=gnome-terminal-proxy><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#gnome-terminal-proxy>gnome terminal proxy</a></h3> <p>$ ssh -ND 7070 yourname@yourserver $ gconftool-2 -R /system/proxy # show configuration $ gconftool-2 -s /system/proxy/socks_host -t int 127.0.0.1 $ gconftool-2 -s /system/proxy/socks_port -t int 7070 $ gconftool-2 -s /system/proxy/mode -t string manual # enable $ gconftool-2 -s /system/proxy/mode -t string none # disable</p> <h3 id=update-xcode-cmd><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#update-xcode-cmd>update xcode cmd</a></h3> <h2 id=xcode-select-install><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#xcode-select-install>xcode-select --install</a></h2> <h3 id=test-linux-watchdog><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#test-linux-watchdog>Test linux watchdog</a></h3> <h2 id=echo-c-procsysrq-trigger><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#echo-c-procsysrq-trigger>echo c &gt; /proc/sysrq-trigger</a></h2> <h3 id=bash><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#bash>Bash环境变量漏洞检测</a></h3> <p>env x='() { :;}; echo asdasd' bash -c "echo asd"</p> <h3 id=maven-socks5-proxy><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#maven-socks5-proxy>maven socks5 proxy</a></h3> <p>-DsocksProxyHost=127.0.0.1 -DsocksProxyPort=7070</p> <h3 id=when-your-vm-has-2-ethernet-do-noticed-which-one-is-the-default-gateway-or-you-will-fail-in-router-port-forwarding><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#when-your-vm-has-2-ethernet-do-noticed-which-one-is-the-default-gateway-or-you-will-fail-in-router-port-forwarding>When your vm has 2 ethernet, DO noticed which one is the default gateway, or you will fail in ROUTER PORT FORWARDING.</a></h3> <h3 id=delete-raid-info-in-your-disk><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#delete-raid-info-in-your-disk>Delete RAID info in your disk</a></h3> <h2 id=dmraid-n-devsda><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#dmraid-n-devsda>dmraid -n /dev/sda</a></h2> <p>DDF1 Anchor at 12345678</p> <h2 id=dd-ifdevzero-ofdevsda-seek12345678-bs512-count1><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#dd-ifdevzero-ofdevsda-seek12345678-bs512-count1>dd if=/dev/zero of=/dev/sda seek=12345678 bs=512 count=1</a></h2> <h3 id=postgresql-recovery-when-xlog-failed><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#postgresql-recovery-when-xlog-failed>Postgresql recovery when xlog failed</a></h3> <p>$ pg_resetxlog -f -x 0x9A00000 -m 0x10000 -O 0x10000 -l 0x1,0xB67,0x58 -D /var/lib/pgsql/data or $ pg_resetxlog -f /var/lib/pg_sql/data Transaction log reset</p> <h3 id=mysqlphp><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#mysqlphp>解决mysql＋php中文显示问号问题</a></h3> <p>比如在vtigercrm，zabbix中</p> <p>创建utf8排序的数据库即可</p> <h2 id=mysql><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#mysql>mysql</a></h2> <blockquote> <p>create database mydb DEFAULT CHARSET utf8 COLLATE utf8_general_ci;</p> </blockquote> <h3 id=mysql-delete-duplicated-rows><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#mysql-delete-duplicated-rows>Mysql delete duplicated rows</a></h3> <p>delete from posts where id not in (select * from (select max(n.id) from posts n group by n.title) x);</p> <p>OR</p> <p>create table new as select * from posts where 1 group by url; rename table new master;</p> <h3 id=pip-upgrade-all><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#pip-upgrade-all>pip upgrade all</a></h3> <p>pip freeze --local | grep -v '^\-e' | cut -d = -f 1 | xargs -n1 pip install -U</p> <h3 id=wget><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#wget>wget 递归下载</a></h3> <p>wget -c -r -np -k -L -p http://example.com/dir0/</p> <h3 id=gem><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#gem>修改gem源</a></h3> <p>$ gem sources --remove https://rubygems.org/ $ gem sources -a https://ruby.taobao.org/ $ gem sources -l *** CURRENT SOURCES ***</p> <p>https://ruby.taobao.org</p> <h2 id=rubytaobaoorg><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#rubytaobaoorg>请确保只有 ruby.taobao.org</a></h2> <h3 id=extundeleterm-fr><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#extundeleterm-fr>使用extundelete恢复rm -fr数据</a></h3> <p>从<a href=http://extundelete.sourceforge.net/ >http://extundelete.sourceforge.net/</a>下载源码，安装efs2progs-devel并编译。</p> <h2 id=mount-devsdb2-mnt-o-ro><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#mount-devsdb2-mnt-o-ro>mount /dev/sdb2 /mnt -o ro</a></h2> <h2 id=extundelete-devsdb2-restore-files-relative-path-to-files-after-20140404><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#extundelete-devsdb2-restore-files-relative-path-to-files-after-20140404>extundelete /dev/sdb2 --restore-files relative-path-to-files --after 20140404</a></h2> <p>OR</p> <h2 id=extundelete-devsdb2-restore-all><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#extundelete-devsdb2-restore-all>extundelete /dev/sdb2 --restore-all</a></h2> <h3 id=testdiskphotorec><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#testdiskphotorec>使用TestDisk/PhotoRec恢复分区/数据</a></h3> <p>从<a href=http://www.cgsecurity.org/wiki/TestDisk>http://www.cgsecurity.org/wiki/TestDisk</a>下载TestDisk，解压后会发现源码以及静态编译文件，直接执行即可，其中TestDisk恢复分区，PhotoRec恢复图片文件。</p> <h3 id=wordpress-excerpt_length><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#wordpress-excerpt_length>Wordpress 摘要字数搜索关键字excerpt_length</a></h3> <h3 id=eclipse-multiuser><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#eclipse-multiuser>Eclipse multiuser</a></h3> <p>Add following code to your eclipse/configuration/config.ini</p> <p>osgi.configuration.area=@user.home/Eclipse/configuration osgi.sharedConfiguration.area=/opt/eclipse/configuration osgi.configuration.cascaded=true</p> <h3 id=get-cer-and-key-out-of-pfx><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#get-cer-and-key-out-of-pfx>get cer and key out of pfx</a></h3> <p>openssl pkcs12 -in domain.pfx -clcerts -nokeys -out domain.cer openssl pkcs12 -in domain.pfx -nocerts -nodes -out domain.key</p> <h3 id=opensslgpg-encryptdecrypt><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#opensslgpg-encryptdecrypt>openssl/gpg encrypt/decrypt</a></h3> <p>$ echo Hi | openssl enc -aes-128-cbc -a -salt -pass pass:wtf U2FsdGVkX18qAdhqop1SffsewHue6EOPNKv9dXc/0rI= $ echo U2FsdGVkX18qAdhqop1SffsewHue6EOPNKv9dXc/0rI= | openssl enc -aes-128-cbc -a -d -salt -pass pass:wtf Hi</p> <p>OR</p> <h2 id=generate-a-2048-bit-rsa-key-and-store-it-in-keytxt><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#generate-a-2048-bit-rsa-key-and-store-it-in-keytxt>generate a 2048-bit RSA key and store it in key.txt</a></h2> <p>openssl genrsa -out key.txt 2048</p> <h2 id=encrypt-hello-world-using-the-rsa-key-in-keytxt><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#encrypt-hello-world-using-the-rsa-key-in-keytxt>encrypt "hello world" using the RSA key in key.txt</a></h2> <p>echo "hello world" | openssl rsautl -inkey key.txt -encrypt &gt;output.bin</p> <h2 id=decrypt-the-message-and-output-to-stdout><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#decrypt-the-message-and-output-to-stdout>decrypt the message and output to stdout</a></h2> <p>openssl rsautl -inkey key.txt -decrypt OR</p> <p>gpg --encrypt -r recipient@example.com &gt;tempfile gpg --decrypt </p> <h3 id=ssh-port-forward><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#ssh-port-forward>ssh port forward</a></h3> <h2 id=local-forwarding-with-g-to-share-the-local-port-with-other-hosts><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#local-forwarding-with-g-to-share-the-local-port-with-other-hosts>Local Forwarding, with -g to share the local port with other hosts</a></h2> <p>(localpc)$ ssh -g -L 2222:localhost:22 root@lofyer.org</p> <h2 id=ssh-to-localhost2222-to-connect-lofyerorg><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#ssh-to-localhost2222-to-connect-lofyerorg>ssh to localhost:2222 to connect lofyer.org</a></h2> <p>(localpc)$ ssh -lroot -p 2222 localhost</p> <h2 id=remote-forwarding><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#remote-forwarding>Remote Forwarding</a></h2> <p>(localpc)$ ssh -R -L 2222:localhost:22 root@lofyer.org</p> <h2 id=on-host-lofyerorg-ssh-to-localhost2222-to-connect-localpc><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#on-host-lofyerorg-ssh-to-localhost2222-to-connect-localpc>On host lofyer.org, ssh to localhost:2222 to connect localpc.</a></h2> <p>(lofyer.org)$ ssh localhost -p 2222</p> <h2 id=mixed-localpc22-lofyerorg2222><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#mixed-localpc22-lofyerorg2222>Mixed, localpc:22-&gt;lofyer.org:2222</a></h2> <h2 id=on-lofyerorg-we-make-a-tunnel2222-to-localpc22><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#on-lofyerorg-we-make-a-tunnel2222-to-localpc22>On lofyer.org we make a tunnel(2222) to localpc:22</a></h2> <p>(localpc)$ ssh -R 2222:localhost:22 lofyer.org</p> <h2 id=make-a-local-tunnel3333-listening-on-all-interface-to-localpc2222><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#make-a-local-tunnel3333-listening-on-all-interface-to-localpc2222>Make a local tunnel(3333) listening on all interface to localpc:2222</a></h2> <p>(lofyer.org)$ ssh -g -L 3333:localhost:2222 localhost</p> <h2 id=ssh-to-lofyerorg3333-to-connect-localpc22><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#ssh-to-lofyerorg3333-to-connect-localpc22>ssh to lofyer.org:3333 to connect localpc:22</a></h2> <p>(localpc) ssh lofyer.org -p 3333</p> <h2 id=dynamic-forwarding-with-cn-to-compress-data-and-close-terminal-input><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#dynamic-forwarding-with-cn-to-compress-data-and-close-terminal-input>Dynamic Forwarding, with -CN to compress data and close terminal input.</a></h2> <h2 id=to-start-a-socks-v4v5-server-on-localhost7777><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#to-start-a-socks-v4v5-server-on-localhost7777>To start a SOCKS v4/v5 server on localhost:7777</a></h2> <h2 id=then-you-can-use-this-as-a-proxy-for-your-browser><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#then-you-can-use-this-as-a-proxy-for-your-browser>Then you can use this as a proxy for your browser.</a></h2> <p>(localpc)$ ssh -CND 7777 root@lofyer.org</p> <h3 id=export-private-key-of-iis-that-cannot-be-exported><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#export-private-key-of-iis-that-cannot-be-exported>Export private key of IIS that cannot be exported</a></h3> <ol> <li>git clone https://github.com/iSECPartners/jailbreak-Windows.git</li> <li>Run mcc.msc, add Cert, save this MCC as a file(i.e. aaa).</li> <li>Run jailbreak64.exe mcc.msc aaa</li> <li>Then you can export the private key from the cert.</li> </ol> <h3 id=iptables-route-to-local-pc><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#iptables-route-to-local-pc>iptables route to local pc</a></h3> <p>iptables -t nat -A PREROUTING -p tcp --dport 5060:5081 -j DNAT --to-destination 192.168.122.222:5060:5081</p> <p><strong>Change vm root password</strong></p> <p>virt-sysprep --root-password password:123456 -a os.img</p> <h3 id=ubuntu-ap-hotspot-ppa><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#ubuntu-ap-hotspot-ppa>Ubuntu ap-hotspot PPA</a></h3> <p>sudo add-apt-repository ppa:nilarimogard/webupd8 sudo apt-get update sudo apt-get install ap-hotspot</p> <h3 id=io-error><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#io-error>恢复IO ERROR文件</a></h3> <p>dd if=ioerror.file of=file bs=1M conv=noerror</p> <h3 id=qemu-lsi-scsi><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#qemu-lsi-scsi>QEMU LSI SCSI</a></h3> <p>qemu-kvm -m 1024 -drive file=centos58-RAW.img,index=0,if=scsi,format=raw -boot c -net nic -net user -nographic -vnc :1 -option-rom 8xx_64.rom,bootindex=1</p> <p><a href=http://blog.lofyer.org/quick-notes/lsi_bios/ >lsi_bios 下载</a></p> <h3 id=yum-remove-nodeps><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#yum-remove-nodeps>yum remove nodeps</a></h3> <p>rpm -e --nodpes PKG yum install PKG</p> <h3 id=file-too-large><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#file-too-large>File too large</a></h3> <p>ulimit -n 102400 ulimit -f 102400</p> <h3 id=http-refresh><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#http-refresh>HTTP REFRESH</a></h3> <p><meta http-equiv=REFRESH content="0; url=/SOGo/"></p> <h3 id=autoreconf><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#autoreconf>AUTORECONF</a></h3> <p>autoreconf -i</p> <h3 id=rpi-x11vnc-auto-start-and-prevent-screen-from-sleeping><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#rpi-x11vnc-auto-start-and-prevent-screen-from-sleeping>RPi x11vnc auto start and prevent screen from sleeping</a></h3> <p>pi@raspberrypi:~ $ cat .config/lxsession/LXDE-pi/autostart @lxpanel --profile LXDE-pi @pcmanfm --desktop --profile LXDE-pi @xscreensaver -no-splash x11vnc -auth /home/pi/.Xauthority -display :0 @xset s noblank @xset s off @xset -dpms</p> <h3 id=crawl-date-yesterday><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#crawl-date-yesterday>Crawl date yesterday</a></h3> <p>select id,title,content,url,date_format(str_to_date(date, '%d-%M-%Y'), '%Y%m%d') as date_new from posts where date_format(str_to_date(date, '%d-%M-%Y'), '%Y%m%d')=curdate()+0-1;</p> <h3 id=simple-php-server><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#simple-php-server>Simple PHP server</a></h3> <p>php -S 127.0.0.1:80 -t .</p> <h3 id=macos-reinstall><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#macos-reinstall>MacOS reinstall</a></h3> <h2 id=format-u-disk-at-first-with><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#format-u-disk-at-first-with>Format U disk at first with 区分大小写，日志式</a></h2> <h2 id=volumeinstall-osxinstall-osxappcontentsresourcescreateinstallmedia-volume-volumeinstall-applicationpath-volumeinstall-osxosxapp><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#volumeinstall-osxinstall-osxappcontentsresourcescreateinstallmedia-volume-volumeinstall-applicationpath-volumeinstall-osxosxapp>/Volume/Install\ OSX/Install\ OSX.app/Contents/Resources/createinstallmedia --volume /Volume/install --applicationpath /Volume/Install\ OSX/OSX.app</a></h2> <h3 id=mysql-select-items-yesterday><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#mysql-select-items-yesterday>MySQL select items yesterday</a></h3> <p>select id,title,content,url,date_format(str_to_date(date, '%d-%M-%Y'), '%Y%m%d') as date_new from posts where date_format(str_to_date(date, '%d-%M-%Y'), '%Y%m%d')=curdate()+0-1;</p> <h3 id=macos-all-source><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#macos-all-source>MACOS all source</a></h3> <h2 id=macos><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#macos>macOS 允许所有来源</a></h2> <p>sudo spctl --master-disable</p> <h3 id=wp-github-all-repos-limit><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#wp-github-all-repos-limit>wp-github all repos limit</a></h3> <p>120 public function get_repositories() { 121 $contents = $this-&gt;get_response('users/' . $this-&gt;username . '/repos?per_page=100');</p> <h3 id=iconicwidget><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#iconicwidget>修改iconic右侧widget超链接颜色</a></h3> <p>.widget-area .widget a { /*color: #757575;*/ text-decoration:none; font-size: 98%; }</p> <h3 id=cpu-ipc-usage-4-wide-cpu><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#cpu-ipc-usage-4-wide-cpu>CPU IPC usage 4-wide CPU</a></h3> <p>perf stat -a -- sleep 10</p> <p>Linux, when adding a new disc</p> <p>First find your host bus number</p> <p>grep mpt /sys/class/scsi_host/host?/proc_name</p> <p>Which should return a line like</p> <p>/sys/class/scsi_host/host0/proc_name:mptspi</p> <p>where host0 is the relevant field.</p> <p>use this to rescan the bus with the following command</p> <p>echo "- - -" &gt; /sys/class/scsi_host/host0/scan</p> <p>In the above command the the hyphens represent controller,channel,lun, so – – – indicates all controllers, all channels and all luns should be scanned.</p> <h3 id=ensenp-rename-to-eth0><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#ensenp-rename-to-eth0>ens/enp rename to eth0</a></h3> <p>Edit /etc/default/grub At the end of GRUB_CMDLINE_LINUX line append "net.ifnames=0 biosdevname=0" Save the file Type "grub2-mkconfig -o /boot/grub2/grub.cfg" Type "reboot"</p> <h3 id=change-mysql-database-or-table-encoding><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#change-mysql-database-or-table-encoding>Change mysql database or table encoding</a></h3> <p>SELECT neutron_ml2; ALTER DATABASE neutron_ml2 CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci; ALTER TABLE standardattributes CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;</p> <p>Or if you're still on MySQL 5.5.2 or older which didn't support 4-byte UTF-8, use utf8 instead of utf8mb4:</p> <p>ALTER DATABASE databasename CHARACTER SET utf8 COLLATE utf8_unicode_ci; ALTER TABLE tablename CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;</p> <h3 id=google-pixel-2-network-x-symbol><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#google-pixel-2-network-x-symbol>Google Pixel 2 network "X" symbol</a></h3> <h3 id=adb-shell-settings-put-global-captive_portal_https_url-httpscaptivev2excogenerate_204><a class=toclink href=../../2012/09/18/%E5%AE%9E%E7%94%A8%E7%AC%94%E8%AE%B0/#adb-shell-settings-put-global-captive_portal_https_url-httpscaptivev2excogenerate_204>./adb shell "settings put global captive_portal_https_url https://captive.v2ex.co/generate_204";</a></h3> <p>title: "transfer IPv6 to IPv4 via socat" date: 2018-10-09 categories: - "linux-admin"</p> <hr> <p>Suppose that you have an ipv6-only server A with ip [ipv6-A], and ipv4-ipv6 server B with ip (ipv4-B, [ipv6-B]).</p> <p>If you wanna visit http://[ipv6-A]:80, but your ISV does not provide some ipv6 addresses. Now then, you'll make B be your "ipv6-ipv4 relay server" with following guide.</p> <p>If TCP:</p> <p>root@B:~# socat tcp4-listen:2222,fork tcp6:[2001:19f0:7001:5a34:5400:01ff:feb5:5bcd]:80</p> <p>If UDP:</p> <p>root@B:~# socat udp4-listen:2222,fork udp6:[2001:19f0:7001:5a34:5400:01ff:feb5:5bcd]:80</p> <p>Now you can visit http://ipv4-B:2222 to access http://[ipv6-A]:80</p> </div> </article> <article class="md-post md-post--excerpt"> <header class=md-post__header> <div class="md-post__meta md-meta"> <ul class=md-meta__list> <li class=md-meta__item> <time datetime="2012-09-03 00:00:00">2012年9月3日</time></li> <li class=md-meta__item> 分类于 <a href=../../category/mylife/ class=md-meta__link>mylife</a></li> <li class=md-meta__item> 需要 1 分钟阅读时间 </li> </ul> </div> </header> <div class="md-post__content md-typeset"> <h2 id=_1><a href=../../2012/09/03/%E5%9B%9E%E4%B8%8D%E5%8E%BB%E5%B0%B1%E5%BE%80%E5%89%8D%E8%B5%B0/ class=toclink>回不去就往前走</a></h2> <p>昨天我试图追寻往日的痕迹，未果。 多年来有过很多次尝试，一个人自作多情的尝试，每次都期待奇迹发生。 如果我有一天真的远去，那我会给自己不回头的勇气。</p> </div> </article> <article class="md-post md-post--excerpt"> <header class=md-post__header> <div class="md-post__meta md-meta"> <ul class=md-meta__list> <li class=md-meta__item> <time datetime="2012-07-04 00:00:00">2012年7月4日</time></li> <li class=md-meta__item> 分类于 <a href=../../category/collect/ class=md-meta__link>collect</a></li> <li class=md-meta__item> 需要 4 分钟阅读时间 </li> </ul> </div> </header> <div class="md-post__content md-typeset"> <h2 id=v-><a href=../../2012/07/04/v%E5%AD%97%E4%BB%87%E6%9D%80%E9%98%9F--%E7%BB%8F%E5%85%B8%E5%8F%B0%E8%AF%8D/ class=toclink>V字仇杀队--经典台词</a></h2> <p>[audio mp3="http://blog.lofyer.org/wp-content/uploads/2012/10/Q播电影V字仇杀队.rmvb09-57-06.mp3"][/audio]</p> <p>Remember, remember</p> <p>The 5th of November 要记住，要记住，11月的5日</p> <p>The gunpowder treason and plot 火药阴谋和叛乱</p> <p>I know of no reason Why the gunpowder treason Should ever be forgot 我不知有何理由可以忘记火药阴谋</p> <p>We are told to remember the idea and not the man 我们被教导要记住思想，不是人</p> <p>Because a man can fail He can be caught, he can be killed and forgotten 因为人可能失败 他可能会被捕 他会被杀死、被遗忘</p> <p>But 400 years later......an idea can still change the world 但400年后思想仍可改变世界</p> <p>I have witnessed firsthand the power of ideas. 我亲眼目睹了思想的威力</p> <p>I've seen people kill in the name of them... 我见过人们以它为名杀戮</p> <p>...and die defending them 为维护它而送命</p> <p>But you cannot kiss an idea......cannot touch it or hold it 但你不能杀死思想不能触到它或者捧着它</p> <p>Ideas do not bleed. They do not feel pain. 思想不会流血，不会感到痛苦 思想不会死去</p> <p>They do not love.他们不会爱</p> <p>And it is not an idea that I miss 但我最思念的不是思想</p> <p>It is a man A man that made me remember the 5th of November. 是一个男人，让我记住11月5日的男人</p> <p>A man that I will never forget. 一个我永不会忘记的男人</p> <p>That with devotion's visage and pious action we do sugar o'er the devil himself. 人们往往用至诚的外表和虔敬的 行动，掩饰一颗魔鬼般的</p> <p>Who is but the form following the function of what......and what I am is a man in a mask. 我是谁？名字只是事物的代号而已 而我是一个戴面具的人</p> <p>I'm merely remarking upon the paradox of asking a masked man who he is. 我不过是指出一个矛盾， 需要问一个戴面具的人是谁吗？</p> <p>But on this most auspicious of nights......permit me then, in lieu of the more commonplace sobriquet......to suggest the characterof this dramatis persona. 这样一个美好的夜晚请允许我建议用更平常的语言来介绍一位戏剧性的角色</p> <p>In view, a humble vaudevillian veteran......cast vicariously as both victim and villain by the vicissitudes of fate. This visage, no mere veneer of vanity... ...is a vestige of the vox populi, now vacant, vanished. However, this valorous visitation of a bygone vexation stands vivified... ...and has vowed to vanquish these venal and virulent vermin vanguarding vice... ...and vouchsafing the violently vicious and voracious violation of volition. The only verdict is vengeance, a vendetta... ...held as a votive not in vain, for the value and veracity of such... ...shall one day vindicate the vigilant and the virtuous. Verily, this vichyssoise of verbiage veers most verbose. So let me simply add that it's my very good honor to meet you......and you may call me V. 一位谦虚的杂耍老手代苦难命运的受害者和加害者演出这个面孔，不只是虚华的外表它是遗存的人民呼声 现已空洞消亡 不过，我这对过往烦恼的勇敢访问者 恢复了生命的活力 决心铲除那些引来 腐败堕落邪恶的毒虫 遏制他们狂暴的恶毒的 以及贪婪的对意志的破坏 对他们唯一的裁决就是复仇 正义和警惕的信念不会落空 它们的价值和真理终将实现 当然，我这段莫名其妙的杂碎汤 带来的是最冗长的自我介绍 所以简单地说，能遇见您 是我很大的荣幸，请叫我V</p> <p>The DCD was Tchaikovsky's 1812 Overture.CD是柴科夫斯基的《1812序曲》</p> <p>- Whereby important events of the past... -……历史的重要时刻……</p> <p>...usually associated with someone's death or the end of some awful, bloody struggle... 通常是跟某人的死去或者 苦难挣扎的结束有关</p> <p>...are celebrated with a nice holiday... ...I thought we could mark this November the 5th... 然后以一个美好的 假日来纪念 我想我们可以把这个11月5日作为</p> <p>...a day that is, sadly, no longer remembered... 可悲地不再被记住的一天</p> <p>...by taking some time out of our daily lives to sit down and have a little chat. 只需从我们的日常生活 里抽出一点时间</p> <p>There are, of course, those who do not want us to speak. 坐下来谈一会话 当然有些人不希望我们发言</p> <p>Let me think, let me think. Even now, orders are being shouted into telephones... ...and men with guns will soon be on their way. - It's Chancellor Sutler. - Damn it! 就在现在，电话里吼叫着命令 - 带枪的人们正在路上 - 是苏特勒元首 该死！</p> <p>Why? Because while the truncheon may be used in lieu of conversation... 因为尽管沉默代替了谈话</p> <p>...words will always retain their power. 言语却总是能保持它的力量</p> <p>Words offer the means to meaning... 含义深刻的言语</p> <p>...and, for those who will listen, the enunciation of truth. 它向那些愿意倾听的 人们发出真相的宣告</p> <p>...there is something terribly wrong with this country, isn't there? 而真相是，这个国家 有些事情错得可怕</p> <p>Cruelty and injustice, intolerance and oppression. 残暴、不公、歧视和镇压</p> <p>And where once you had the freedom to object......to think and speak as you saw fit......you now have censors and surveillance coercing your conformity......and soliciting submission. 你曾经有过反对的自由可以说出你想说的话。你现在有了传感器和监视系统强迫你随大流</p> <p>How did this happen? Who's to blame? 这是怎么发生的？ 这要怪谁？</p> <p>Certainly there are those who are more responsible than others. 有谁比大家更需要负上责任？</p> <p>And they will be held accountable. 他们会遭到惩罚的</p> <p>But again, truth be told, if you're looking for the guilty... 但是，真相讲完了 你要找罪人的话</p> <p>...you need only look into a mirror.你只需要照照镜子</p> <p>I know why you did it. I know you were afraid. 我知道你为什么这样做 我知道你害怕</p> <p>Who wouldn't be? War, terror, disease. 战争、KB事件、疾病</p> <p>There were a myriad of problems which conspired......to corrupt your reasonand rob you of your common sense. 它们就像杂草种子 用来摧毁你的理智</p> <p>Fear got the best of you. 恐惧控制了你</p> <p>And in your panic, you turned to the now High Chancellor Adam Sutler. 你在慌乱中投向了元首先生 ——亚当·苏特勒</p> <p>He promised you order, he promised you peace......and all he demanded in return was your silent, obedient consent. 他向你许诺秩序 他向你许诺和平 所要的回报不过 是你的服从和沉默</p> <p>- Last night, I sought to end that silence. 昨晚我决定结束这种沉默</p> <p>Last night, I destroyed the Old Bailey... 昨晚我摧毁了老巴里街</p> <p>...to remind this country of what it has forgotten. 以提醒这个国家忘记的事情</p> <p>More than 400 years ago, a great citizen wished to imbed the 5th of November......forever in our memory. 将近400年前 一位伟大的公民打算将11月5日 永远刻入我们的记忆中</p> <p>His hope was to remind the world that fairness, justice and freedom......are more than words. 以此提醒世界公平、正义和自由 不只是口头说说</p> <p>They are perspectives. So if you've seen nothing......if the crimes of this government remain unknown to you......then I would suggest that you allow the 5th of November to pass unmarked. 它们是人的权利所以如果你什么也没看见 对这个go-vern-ment犯下 的罪行一无所知 我建议你让这个 11月5日平淡地过去</p> <p>But if you see what I see......if you feel as I feel, and if you would seek as I seek......then I ask you to stand beside me,one year from tonight......outside the gates of Parliament. 可是如果你看见我所见的如果你有跟我一样的感受如果你像我一样去寻觅 我请你在一年以后的今晚站到议会大厦的外面 团结一致，我们将使11月5日 永远不会被忘怀</p> <p>I dare do all that may become a man. Who dares more is none. 只要是男子汉做的事，我都敢做 没有人比我有更大的胆量 Macbeth.《麦克白》</p> <p>But I'd only told them the truth. Was that so selfish? 我只是告诉他们真相 那是否太自私？</p> <p>Our integrity sells for so little, but it is all we really have. 我们的尊严是那么地小 但那是我们仅有的</p> <p>It is the very last inch of us. 那是我们最后一寸领地</p> <p>But within that inch......we are free. 但在那一寸领地里，我们是自由的</p> <p>Beneath this mask there is more than flesh. 这张面具之下不止是肉体</p> <p>Beneath this mask there is an idea, Mr. Creedy. 这张面具之下是一种 思想，克里蒂先生</p> <p>And ideas are bulletproof. 思想是杀不死的</p> </div> </article> <article class="md-post md-post--excerpt"> <header class=md-post__header> <div class="md-post__meta md-meta"> <ul class=md-meta__list> <li class=md-meta__item> <time datetime="2012-06-14 00:00:00">2012年6月14日</time></li> <li class=md-meta__item> 分类于 <a href=../../category/mylife/ class=md-meta__link>mylife</a></li> <li class=md-meta__item> 需要 1 分钟阅读时间 </li> </ul> </div> </header> <div class="md-post__content md-typeset"> <h2 id=_1><a href=../../2012/06/14/%E5%9B%9E%E5%AE%B6%E4%BA%86/ class=toclink>回家了</a></h2> <p>繁琐的事儿安排给他们了，在这里贴一张寝室老周写的文章。</p> <p><strong>不说“再见”507</strong></p> <p>哈尔滨的夏天十分凉爽，这样的夏天对于我这个即将离开的南方人来说真是不可多得的奢侈。正是在这美好的时光里，离别的愁绪却塞满了整个寝室，整个校园！ 去年的这个时候，也是这样的天气，也是这样的场景，各色领边的学士服穿梭于校园里的各个角落。那时的我，正坐在二号楼的教室里上着单片机课，老师在讲台上讲得唾沫横飞，而我和我的小基友们正打望着窗外黑丝学姐们，穿着学士服摆着各种各样的pose用相机定格住那一瞬间。那时的我对今天有些期待，但真没想到这个场景来得这么滴快，让我有些措手不及！ 我本是多愁善感的，但在我的潜意识里我不认为我是一个会为离别而感到难舍难分的人。我时常想，没事我们有手机，我们有校内，我们有QQ。但就在老大上出租车关上车门那一瞬间；老二放开手，微笑的说：洪锋，我走了，到海南了一定要找我；老三给我打电话告诉我：走了，各种卡都在你床上，你到时帮我退了。我的心猛然下沉了，走了走了真的走了。我的同学、我的室友、日日夜夜相伴的小基友们、成天开黑虐菜的DOTA队友们。 昨日欢声笑语的507就剩下四人了，再也听不见老大的那句：含住它了；老二再也不能教我们海南话的里的流氓语了；再也没有老三的经典外卖搭配，酱炒蛋两盒饭加一瓶可乐了；再也没有小六起床的高呼：小客搬电脑过来DO啊。 缘分让我们这天南海北的八人相聚507；那份深深的情让我们在507欢度三年，虽然有苦有甜，有喜又忧；我相信就算我们散落于天涯海角，那份浓浓的思念也会把我们的心紧连一起！ 兄弟们，一路走好！咱们不说“再见”！因为那太假！只要我们想见，24小时内绝对能相见！ 507经典语录： 周黎明（老大）：含住它！（一语道破了百千上万同胞们的心声） 吴挺标（老二）：蓝路蓝乎乎一般！（海南语最直白的表白） 将迪（老三）  ：FUCK SHIT 日 干 操！（多么霸气的爷们当年这句话唬住了多少位DOTA界的大神） 宗学龙（老四）：此人名言太多，为咱们解析了三四班全部女生，无人不知，无所不晓，俗称江湖百晓生！ 李天路（小六）：小客搬电脑DO啊！（每天早上唤醒正在春梦的DOTA基友们） 宋晓强（小七）：我得减肥<sub>(≧▽≦)/</sub>啦啦啦；操你二大爷加三姥姥四姑滴！（俗不可耐啊） 高兴龙（小八）：不在乎天长地久；只在乎今晚一宿！（这句话就不说什么了，大家都明白滴）</p> <p>还有小强的补充：替你补充下老五的资料，老五，又名周神，以“没有拆不散的夫妻，只有不努力的小三”为座右铭，主打歌是什么我叫小莫（此处省略好多字），脾气好，是大家共同的小基友。</p> <p>奶奶个熊最后连我的姓都tm打错，吃屎长大的吧你。。</p> </div> </article> <article class="md-post md-post--excerpt"> <header class=md-post__header> <div class="md-post__meta md-meta"> <ul class=md-meta__list> <li class=md-meta__item> <time datetime="2012-06-08 00:00:00">2012年6月8日</time></li> <li class=md-meta__item> 分类于 <a href=../../category/diary/ class=md-meta__link>diary</a></li> <li class=md-meta__item> 需要 1 分钟阅读时间 </li> </ul> </div> </header> <div class="md-post__content md-typeset"> <h2 id=201268><a href=../../2012/06/08/2012%E5%B9%B46%E6%9C%888%E6%97%A5/ class=toclink>2012年6月8日</a></h2> <p>2012年6月8日</p> <p>end of the tour</p> <p>marriage, parsley and flowers</p> </div> </article> <nav class=md-pagination> <span class=md-pagination__current>1</span> <a href=page/2/ class=md-pagination__link>2</a> <a href=page/3/ class=md-pagination__link>3</a> <span class=md-pagination__dots>..</span> <a href=page/6/ class=md-pagination__link>6</a> </nav> </div> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2008 - 2022 lofyer </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["search.suggest", "search.highlight", "navigation.tabs", "navigation.tabs.sticky", "navigation.tracking", "navigation.prune"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script> <script src=../../../assets/javascripts/bundle.ad660dcc.min.js></script> <script src=../../../javascripts/config.js></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> </body> </html>